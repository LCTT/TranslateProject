[#]: subject: "Rust Basics Series #1: Create and Run Your First Rust Program"
[#]: via: "https://itsfoss.com/rust-introduction/"
[#]: author: "Pratham Patel https://itsfoss.com/author/pratham/"
[#]: collector: "lkxed"
[#]: translator: "mcfd"
[#]: reviewer: "wxy"
[#]: publisher: "wxy"
[#]: url: "https://linux.cn/article-15709-1.html"

Rust åŸºç¡€ç³»åˆ— #1: åˆ›å»ºå¹¶è¿è¡Œä½ çš„é¦–ä¸ª Rust ç¨‹åº
======

![][0]

> åœ¨ Rust ç¼–ç¨‹ç³»åˆ—çš„ç¬¬ä¸€ç¯‡ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•ç”¨ Rust ç¼–å†™å’Œæ‰§è¡Œä½ çš„ç¬¬ä¸€ä¸ªç¨‹åºã€‚

Rust æ˜¯æœ€å¿«é£é¡å¼€å‘è€…å’Œç§‘æŠ€å…¬å¸çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ã€‚æ—¥å¸¸ä½¿ç”¨å®ƒçš„å¼€å‘è€…å°†å…¶è¯„ä¸º**æœ€å—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€**ä¹‹ä¸€ï¼Œè€Œå®ƒ [å·²ç»è¿ç»­ä¸ƒå¹´è·æ­¤æ®Šè£äº†][2]ï¼

å®ƒæ˜¯å¦‚æ­¤çš„å—æ¬¢è¿ï¼Œä»¥è‡´äºç°åœ¨æœ‰ä¸¤è‚¡å·¨å¤§çš„æ¨åŠ›å°†å…¶å¸¦å…¥ Linux ç”Ÿæ€ç³»ç»Ÿä¸­ï¼š

- [å°† Rust ä½œä¸º Linux å†…æ ¸çš„äºŒçº§æ”¯æŒè¯­è¨€][3]
- System76 [æ­£åœ¨ä½¿ç”¨ Rust é‡å†™ä»–ä»¬è‡ªå·±çš„æ¡Œé¢ç¯å¢ƒ][4]

è€Œè¿™è¿˜ä»…ä»…æ˜¯åœ¨ Linux ç”Ÿæ€ç³»ç»Ÿä¸­ã€‚å®‰å“ä¸Šçš„è“ç‰™è½¯ä»¶ [Gabeldorsche][5] ç°åœ¨ä¹Ÿæ˜¯ç”± Rust ç¼–å†™çš„ã€‚

ä½ æ˜¯å¦ä¹Ÿçœ‹åˆ°äº† Rust çš„æµè¡Œè¶‹åŠ¿ï¼Ÿé‚£ä¹ˆä½ æˆ–è®¸ä¹Ÿæƒ³å­¦ä¹ ä½¿ç”¨ Rust è¿›è¡Œç¼–ç¨‹ã€‚

### ä¸ºä»€ä¹ˆä½ è¦è€ƒè™‘ Rust è€Œä¸æ˜¯å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼Ÿ

é¦–å…ˆï¼ŒRust æ˜¯ä¸€é—¨ **ç±»å‹å®‰å…¨çš„ç¼–ç¨‹è¯­è¨€** å¹¶ä¸” **æ‹¥æœ‰æå…¶ä¸¥æ ¼çš„ç¼–è¯‘æœŸæ£€æŸ¥**ã€‚å› æ­¤ï¼Œä½ é¦–å…ˆä¼š â€œè¢«è¿«â€ å†™ä¸å‡ºä¸å®‰å…¨çš„ä»£ç ï¼ˆå¥½å§ï¼Œé€šå¸¸æ˜¯è¿™æ ·ï¼‰ã€‚

Rust ç¼–ç¨‹è¯­è¨€æœ‰ä»¥ä¸‹ â€œç›®æ ‡â€ï¼š

- **æ€§èƒ½**ï¼šRust çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œ C è¯­è¨€çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸€æ ·å¿«ï¼Œæœ‰æ—¶ç”šè‡³è¶…è¿‡äº† C++ çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼
- **å†…å­˜å®‰å…¨**ï¼šRust éå¸¸é‡è§†å†…å­˜å®‰å…¨ã€‚
- **å¹¶å‘æ€§**ï¼šå¯¹å†…å­˜å®‰å…¨çš„å…³æ³¨æ¶ˆé™¤äº†å¾ˆå¤šç±»ä¼¼ç«äº‰çš„æƒ…å†µï¼Œå¹¶å¸®åŠ©ä½ åœ¨ç¨‹åºä¸­æ— ç•å¹¶å‘ã€‚

ä»¥ä¸‹æ˜¯åœ¨ C/C++ ç­‰è¯­è¨€ä¸­å¯èƒ½çŠ¯çš„ä¸€äº›é”™è¯¯ï¼ˆä½† Rust ä¸ä¼šï¼‰ï¼š

- é‡Šæ”¾åä½¿ç”¨
- åŒé‡é‡Šæ”¾
- è¶Šç•Œè®¿é—®
- ä½¿ç”¨ `NULL`
- ä¸é€‚å½“çš„æŒ‡é’ˆè¿ç®—æˆ–è®¿é—®
- ä½¿ç”¨æœªç»åˆå§‹åŒ–çš„å˜é‡
- çº¿ç¨‹ä¸å®‰å…¨çš„å¤šçº¿ç¨‹

çœ‹çœ‹ [è‹¹æœ][6]ã€[å¾®è½¯][7]ã€[è°·æ­Œ][8] ç­‰å¤§å…¬å¸å› è¿™ç±» [0day][9] é”™è¯¯è€Œå¼•èµ·çš„é—®é¢˜å§ã€‚

ç°åœ¨ä½ å¯èƒ½çŸ¥é“äº†ä¸ºä»€ä¹ˆè¦é€‰æ‹© Rust è¯­è¨€è€Œä¸æ˜¯å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼Œè®©æˆ‘ä»¬å¼€å§‹å­¦ä¹  Rust è¯­è¨€çš„ç³»åˆ—æ•™ç¨‹å§ï¼

### ç›®æ ‡å—ä¼—

å‡ºäºå¯¹ Rust çš„çƒ­çˆ±ï¼Œæˆ‘å†™äº†è¿™ä¸ªç³»åˆ—çš„ Rust æ•™ç¨‹ï¼Œå¸®åŠ©ä½ ç†Ÿæ‚‰ Rust ç¼–ç¨‹çš„æ¦‚å¿µã€‚

è¿™ä¸ªæ•™ç¨‹ç³»åˆ—æ˜¯ä¸ºå·²ç»ç†Ÿæ‚‰ C å’Œ C++ ç­‰ç¼–ç¨‹è¯­è¨€çš„äººå‡†å¤‡çš„ã€‚æˆ‘å‡è®¾ä½ å·²ç»çŸ¥é“äº† _å˜é‡_ã€_å‡½æ•°_ã€_å¾ªç¯_ ç­‰åŸºæœ¬æœ¯è¯­ã€‚

æˆ‘å¯¹ä½ çš„å”¯ä¸€è¦æ±‚æ˜¯ä½ ä¸æ‡ˆçš„åšæŒä¸åŠªåŠ›ã€‚

### å®‰è£… Rust å·¥å…·é“¾

æˆ‘å¸Œæœ›ä½ èƒ½åœ¨æœ¬åœ°å®‰è£… [Rust å·¥å…·é“¾][10]ã€‚ä½ å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š
ï¼ˆLCTT è¯‘æ³¨ï¼šå¦‚æœä½ ä½¿ç”¨ Linux å‘è¡Œç‰ˆï¼Œè¯·ä¸è¦ç›´æ¥å®‰è£…è½¯ä»¶æºé‡Œçš„ Rust å·¥å…·é“¾ï¼Œå°½ç®¡è¿™æ ·çœ‹èµ·æ¥å¾ˆä¾¿æ·ã€‚ï¼‰

```
curl --proto '=https' --tlsv1.3 -sSf https://sh.rustup.rs | sh
```

![Installing Rust on Ubuntu Linux][11]

é™¤äº† Rust åŸºæœ¬å·¥å…·é“¾ï¼Œæˆ‘è¿˜å»ºè®®å†å®‰è£…ä¸€äº›å·¥å…·ï¼Œè¿™äº›å·¥å…·å°†åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¸®åŠ©ä½ ï¼š

```
rustup component add rust-src rust-analyzer rust-analysis
```

ä½ è¿˜éœ€è¦ [å®‰è£… gcc][14]ã€‚å¦åˆ™ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°â€œé“¾æ¥å™¨ `cc` æœªæ‰¾åˆ°â€çš„é”™è¯¯ã€‚è¯¥è½¯ä»¶åŒ…åœ¨ä¸åŒçš„å‘è¡Œç‰ˆä¸­éƒ½è¢«ç§°ä¸º gccã€‚

åœ¨ Ubuntu å’Œ Debian ä¸Šä½¿ç”¨ï¼š

```
sudo apt install gcc
```

> ğŸ’¡ å¦‚æœä½ ä¸å¸Œæœ›åœ¨æœ¬åœ°å®‰è£… Rust å·¥å…·é“¾ï¼Œä¸ç”¨æ‹…å¿ƒã€‚ä½ è¿˜å¯ä»¥ç›´æ¥åœ¨ä½ çš„æµè§ˆå™¨ä¸­è¿è¡Œ Rust ä»£ç ï¼åªè¦åˆ° [Rust è¯•éªŒåœº][12] å¹¶æŠŠæ‰€è®¨è®ºçš„ä»£ç ç²˜è´´åœ¨é‚£é‡Œã€‚

### Hello Rust!

è‡ªä» <ruby>ä¸¹å°¼æ–¯Â·é‡Œå¥‡<rt>Dennis Ritchie</rt></ruby> å’Œ <ruby>å¸ƒè±æ©ãƒ»æŸ¯æ—æ±‰<rt>Brian Kernighan</rt></ruby> ç”¨ â€œHello Worldâ€ ç¨‹åºä»‹ç»äº† C è¯­è¨€åï¼Œåœ¨ UNIX ä¸–ç•Œé‡Œï¼Œä½ å­¦ä¹ çš„ä»»ä½•æ–°ç¼–ç¨‹è¯­è¨€ç¬¬ä¸€æ­¥éƒ½è¿™æ ·åšï¼Œè¿™å·²ç»æˆä¸ºä¸€ç§ä¹ æƒ¯ã€‚

å› æ­¤ï¼Œè®©æˆ‘ä»¬ä¹Ÿç”¨ Rust ç¼–å†™æˆ‘ä»¬çš„ Hello World ç¨‹åºã€‚

æˆ‘å°†åœ¨æˆ‘çš„å®¶ç›®å½•é‡Œ [æ–°å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•][13] å«åš `learn-rust-its-foss`ã€‚ç„¶åï¼Œåœ¨è¿™é‡Œæˆ‘å°†æ–°å»ºä¸€ä¸ªå« `hello-world` çš„ç›®å½•ã€‚æœ€åï¼Œåœ¨é‡Œé¢æ–°å»º `main.rs` æ–‡ä»¶ï¼š

```
// è¿™ä¸²ä»£ç å°†æ‰“å°å­—ç¬¦
// "Hello world!" å°†è¢«æ‰“å°åˆ° `æ ‡å‡†è¾“å‡º`

fn main() {
    println!("Hello world!");
}
```

> ğŸ“‹ å°±åƒ Cã€C++ å’Œ Java æºä»£ç æ–‡ä»¶ç›¸åº”çš„æ‰©å±•åæ˜¯ `.c`ã€`.cpp` å’Œ `.java`ï¼ŒRust çš„æºæ–‡ä»¶æ‰©å±•åæ˜¯ `.rs`ã€‚

ä½œä¸ºä¸€ä¸ª C/C++ ç¨‹åºå‘˜ï¼Œä½ å¯èƒ½å·²ç»åœ¨ [Linux ä¸Šä½¿ç”¨ GCC][14]ï¼Œåœ¨ macOS ä¸Šä½¿ç”¨ `Clang`ï¼Œåœ¨ Windows ä¸Šä½¿ç”¨ MSVCã€‚ä½†æ˜¯ä¸ºäº†ç¼–è¯‘ Rust ä»£ç ï¼Œè¯¥è¯­è¨€çš„åˆ›é€ è€…è‡ªå·±æä¾›äº†ä¸€ä¸ªå®˜æ–¹çš„ `rustc` ç¼–è¯‘å™¨ã€‚

è¿è¡Œ Rust ç¨‹åºå’Œ [æ‰§è¡Œ C/C++ ç¨‹åº][15] æ˜¯ä¸€æ ·çš„ã€‚ä½ é¦–å…ˆç¼–è¯‘ä»£ç ï¼Œç„¶åå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæœ€åå†è¿è¡Œè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä»è€Œæ¥è¿è¡Œä»£ç ã€‚

```
$ ls
main.rs

$ rustc main.rs

$ ls
main  main.rs

$ ./main
Hello world!
```

å¾ˆå¥½ï¼

### è§£è¯» Rust ä»£ç 

ç°åœ¨ä½ å·²ç»ç¼–å†™ã€ç¼–è¯‘å¹¶è¿è¡Œäº†ä½ çš„ç¬¬ä¸€ä¸ª Rust ç¨‹åºï¼Œè®©æˆ‘ä»¬å¯¹ â€œHello Worldâ€ çš„ä»£ç è¿›è¡Œè§£è¯»ï¼Œå¹¶ç†è§£æ¯ä¸€éƒ¨åˆ†ã€‚

```
fn main() {
}
```

`fn` å…³é”®å­—ç”¨æ¥åœ¨ Rust ä¸­å£°æ˜ä¸€ä¸ªå‡½æ•°ã€‚åœ¨å®ƒåé¢ `main` æ˜¯è¿™ä¸ªè¢«å£°æ˜å‡½æ•°çš„åå­—ã€‚åƒè®¸å¤šç¼–è¯‘å‹ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œ`main` æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œç”¨æ¥ä½œä¸ºä½ çš„ç¨‹åºçš„å…¥å£ã€‚

ä»»ä½•å†™åœ¨ `main` å‡½æ•°é‡Œçš„ä»£ç ï¼ˆåœ¨å¤§æ‹¬å· `{` `}` ä¹‹é—´ï¼‰å°†åœ¨ç¨‹åºè¢«å¯åŠ¨æ—¶è¿è¡Œã€‚

#### println å®

åœ¨ `main` å‡½æ•°ä¸­, æœ‰ä¸€ä¸ªè¯­å¥ï¼ˆLCTT è¯‘æ³¨ï¼šâ€œè¯­å¥â€ åŒºåˆ«äº â€œè¡¨è¾¾å¼â€ï¼‰:

```
println!("Hello world!");
```

å°±åƒ C è¯­è¨€çš„æ ‡å‡†åº“æœ‰ `printf` å‡½æ•°ä¸€æ ·ï¼ŒRust è¯­è¨€çš„æ ‡å‡†åº“æœ‰ `println` **å®**ã€‚å®ç±»ä¼¼äºå‡½æ•°ï¼Œä½†å®ƒä»¥**æ„Ÿå¹å·**ï¼ˆ`!`ï¼‰æ¥åŒºåˆ†ã€‚ä½ å°†åœ¨æœ¬ç³»åˆ—çš„åé¢å­¦ä¹ å®å’Œå‡½æ•°çš„çŸ¥è¯†ã€‚

`println` å®æ¥æ”¶ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œå¹¶æŠŠå®ƒæ”¾åˆ°ç¨‹åºçš„æ ‡å‡†è¾“å‡ºä¸­ï¼ˆåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå°±æ˜¯ç»ˆç«¯ï¼‰ã€‚ç”±äºæˆ‘å¸Œæœ›è¾“å‡ºä¸€äº›æ–‡æœ¬è€Œä¸æ˜¯ä¸€ä¸ªå˜é‡ï¼Œæˆ‘å°†æŠŠæ–‡æœ¬æ”¾åœ¨åŒå¼•å·ï¼ˆ`"`ï¼‰å†…ã€‚æœ€åï¼Œæˆ‘ç”¨ä¸€ä¸ªåˆ†å·æ¥ç»“æŸè¿™ä¸ªè¯­å¥ï¼Œè¡¨ç¤ºè¯­å¥çš„ç»“æŸã€‚

> ğŸ“‹ ä½ åªéœ€çŸ¥é“ï¼Œä»»ä½•çœ‹èµ·æ¥åƒå‡½æ•°è°ƒç”¨ä½†åœ¨å¼€å¤´æ‹¬å·å‰æœ‰æ„Ÿå¹å·çš„ä¸œè¥¿ï¼Œå°±æ˜¯ Rust ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€ä¸ªå®ã€‚

#### æ³¨é‡Š

Rust éµå¾ªå·²çŸ¥çš„ C ç¼–ç¨‹è¯­è¨€çš„æ³¨é‡Šé£æ ¼ã€‚å•è¡Œæ³¨é‡Šä»¥ä¸¤ä¸ªæ­£æ–œæ ï¼ˆ`//`ï¼‰å¼€å§‹ï¼Œå¤šè¡Œæ³¨é‡Šä»¥ `/*` å¼€å§‹ï¼Œä»¥ `*/` ç»“æŸã€‚

```
// è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œæ³¨é‡Š
// ä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆé˜»æ­¢ä½ åœ¨
// ç¬¬äºŒè¡Œæˆ–ç¬¬ä¸‰è¡Œä¹Ÿè¿™æ ·å†™

/*
 * è¿™æ˜¯ä¸€ä¸ªâ€œçœŸâ€¢å¤šè¡Œæ³¨é‡Šâ€
 * å®ƒçœ‹èµ·æ¥æ¯”è¾ƒæ¼‚äº®
 */
```

### æ€»ç»“

ä½ åˆšåˆšé€šè¿‡ Hello World ç¨‹åºè¿ˆå‡ºäº†ç”¨ Rust å†™ä»£ç çš„ç¬¬ä¸€æ­¥ã€‚

ä½œä¸ºä¸€ç§ç»ƒä¹ ï¼Œä¹Ÿè®¸ä½ å¯ä»¥ç¼–å†™å¹¶æ‰§è¡Œä¸€ä¸ªæ‰“å°å‡º `Yes! I did Rust` çš„ Rust ç¨‹åºã€‚

åœ¨æœ¬ç³»åˆ—çš„ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œä½ å°†å­¦ä¹ åœ¨ Rust ç¨‹åºä¸­ä½¿ç”¨å˜é‡ã€‚æ•¬è¯·æœŸå¾…ï¼

*ï¼ˆé¢˜å›¾ï¼šMJ:computer sci-fi ,code secure ,"rust" ,gold blue slive ,background dark, high resolution super detailedï¼‰*

--------------------------------------------------------------------------------

via: https://itsfoss.com/rust-introduction/

ä½œè€…ï¼š[Pratham Patel][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[mcfd](https://github.com/mcfd)
æ ¡å¯¹ï¼š[wxy](https://github.com/wxy)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/pratham/
[b]: https://github.com/lkxed/
[1]: https://itsfoss.com/content/images/2023/03/linux-mega-packt.webp
[2]: https://survey.stackoverflow.co/2022/?ref=itsfoss.com#section-most-loved-dreaded-and-wanted-programming-scripting-and-markup-languages
[3]: https://news.itsfoss.com/linux-kernel-6-1-release/?ref=itsfoss.com
[4]: https://news.itsfoss.com/pop-os-cosmic-rust/?ref=itsfoss.com
[5]: https://android.googlesource.com/platform//system/bt/+/83498aa554aea220fcff30b6310a0a7b4557969f/gd/rust/linux/stack/src/bluetooth.rs?ref=itsfoss.com
[6]: https://langui.sh/2019/07/23/apple-memory-safety/?ref=itsfoss.com
[7]: https://msrc-blog.microsoft.com/2019/07/18/we-need-a-safer-systems-programming-language/?ref=itsfoss.com
[8]: https://security.googleblog.com/2019/05/queue-hardening-enhancements.html?ref=itsfoss.com
[9]: https://docs.google.com/spreadsheets/d/1lkNJ0uQwbeC1ZTRrxdtuPLCIl7mlUreoKfSIgajnSyY/view?ref=itsfoss.com#gid=1190662839
[10]: https://itsfoss.com/install-rust-cargo-ubuntu-linux/
[11]: https://itsfoss.com/content/images/2023/03/install-rust.svg
[12]: https://play.rust-lang.org/?ref=itsfoss.com
[13]: https://itsfoss.com/make-directories/
[14]: https://learnubuntu.com/install-gcc/?ref=itsfoss.com
[15]: https://itsfoss.com/run-c-program-linux/
[0]: https://img.linux.net.cn/data/attachment/album/202304/10/164143yksc0b56bbs0itiu.jpg