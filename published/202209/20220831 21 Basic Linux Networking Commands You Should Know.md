[#]: subject: "21 Basic Linux Networking Commands You Should Know"
[#]: via: "https://itsfoss.com/basic-linux-networking-commands/"
[#]: author: "Sagar Sharma https://itsfoss.com/author/sagar/"
[#]: collector: "lkxed"
[#]: translator: "wxy"
[#]: reviewer: "wxy"
[#]: publisher: "wxy"
[#]: url: "https://linux.cn/article-15013-1.html"

ä½ åº”è¯¥çŸ¥é“çš„ 22 ä¸ªåŸºæœ¬çš„ Linux ç½‘ç»œå‘½ä»¤
======

![](https://img.linux.net.cn/data/attachment/album/202209/09/151623qbizibbrzfrffrpc.jpg)

æˆ‘ä»¬å¹¶ä¸æ˜¯æ¯å¤©éƒ½ä¼šè°ˆè®º Linux çš„å‘½ä»¤è¡Œã€‚ä½†æ­£å¦‚ä¸€äº›è¯»è€…æŒ‡å‡ºçš„é‚£æ ·ï¼Œä½ ä»¬ä¹Ÿæƒ³å­¦ä¹ ä¸€äº›å‘½ä»¤è¡Œçš„æŠ€å·§ã€‚

å› æ­¤ï¼Œæˆ‘æ•´ç†äº†ä¸€ä»½åŸºæœ¬çš„ Linux ç½‘ç»œå‘½ä»¤æ¸…å•ï¼Œè¿™äº›å‘½ä»¤åœ¨æˆ‘çš„å¤§å­¦æ—¶ä»£å¸®åŠ©äº†æˆ‘ï¼Œè®©æˆ‘å¯¹å¦‚ä½•åœ¨ç½‘ç»œæ–¹é¢ä½¿ç”¨ Linux æœ‰äº†åšå®šçš„è®¤è¯†ã€‚

è¿™äº›å‘½ä»¤å°†å¸®åŠ©ä½ è®¾ç½®ç½‘ç»œï¼Œä»¥åŠè§£å†³ä½ åœ¨ Linux ç³»ç»Ÿä¸­å¯èƒ½é‡åˆ°çš„å„ç§ç½‘ç»œé—®é¢˜ã€‚

### Linux ä¸­çš„åŸºæœ¬ç½‘ç»œå‘½ä»¤

è¿™ä¸ªæ±‡ç¼–åŒ…æ‹¬äº† CLI å®ç”¨ç¨‹åºï¼Œå®ƒä»¬å°†å¸®åŠ©ä½ æ’é™¤ç½‘ç»œé—®é¢˜ã€ç›‘æ§æ•°æ®åŒ…å’Œè¿æ¥çš„è®¾å¤‡ï¼Œä»¥åŠæ›´å¤šã€‚

åœ¨æˆ‘å±•ç¤ºè¿™äº›å‘½ä»¤çš„ä¸€äº›ç»†èŠ‚ä¹‹å‰ï¼Œè®©æˆ‘åˆ†äº«ä¸€ä¸‹æˆ‘ä»Šå¤©è¦è®¨è®ºçš„æ‰€æœ‰å‘½ä»¤çš„ç®€è¦æ¦‚è¿°ã€‚

| å‘½ä»¤ | è¯´æ˜ | 
| :- | :- |
| `ip` | æ“çºµè·¯ç”±æ¥åˆ†é…å’Œé…ç½®ç½‘ç»œå‚æ•° | 
| `traceroute` | è¯†åˆ«æ•°æ®åŒ…åˆ°è¾¾ä¸»æœºçš„è·¯å¾„ | 
| `tracepath` | åœ¨è¿½è¸ªç½‘ç»œä¸»æœºçš„è·¯å¾„æ—¶ï¼Œè·å–æœ€å¤§ä¼ è¾“å•å…ƒ | 
| `ping` | é€šå¸¸ç”¨äºæ£€æŸ¥ä¸»æœºå’ŒæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥æƒ…å†µ |
| `ss` | è·å¾—æœ‰å…³ç½‘ç»œå¥—æ¥å­—çš„è¯¦ç»†ä¿¡æ¯ |
| `dig` | ç»™å‡ºæ‰€æœ‰å…³äº DNS åç§°æœåŠ¡å™¨çš„å¿…è¦ä¿¡æ¯ |
| `host` | è¾“å‡ºç‰¹å®šåŸŸå’Œä¸»æœºçš„ IP åœ°å€ |
| `hostname` | ä¸»è¦ç”¨äºè¾“å‡ºå’Œæ›´æ”¹ä¸»æœºå |
| `curl` | åœ¨ç½‘ç»œä¸Šé€šè¿‡å„ç§åè®®ä¼ è¾“æ•°æ® |
| `mtr` | `ping` å’Œ `traceroute` çš„ç»„åˆï¼Œç”¨äºè¯Šæ–­ç½‘ç»œ |
| `whois` | è·å–æœ‰å…³æ³¨å†Œçš„åŸŸåã€IP åœ°å€ã€åç§°æœåŠ¡å™¨ç­‰ä¿¡æ¯ |
| `ifplugstatus` | æ£€æµ‹æœ¬åœ°ä»¥å¤ªç½‘è®¾å¤‡çš„é“¾æ¥çŠ¶æ€ |
| `iftop` | ç›‘è§†ä¸å¸¦å®½æœ‰å…³çš„ç»Ÿè®¡ä¿¡æ¯ |
| `tcpdump` | æ•°æ®åŒ…å—…æ¢å’Œåˆ†æå·¥å…·ï¼Œç”¨äºæ•è·ã€åˆ†æå’Œè¿‡æ»¤ç½‘ç»œæµé‡ |
| `ethtool` | å…è®¸ç”¨æˆ·é…ç½®ä»¥å¤ªç½‘è®¾å¤‡ |
| `nmcli` | ç”¨äºç½‘ç»œè¿æ¥çš„æ•…éšœæ’é™¤å·¥å…· |
| `nmap` | ä¸»è¦ç”¨äºå®¡è®¡ç½‘ç»œå®‰å…¨ |
| `bmon` | å¼€æºå·¥å…·ï¼Œç”¨äºç›‘æ§å®æ—¶å¸¦å®½ |
| `firewalld` | é…ç½®é˜²ç«å¢™è§„åˆ™çš„ CLI å·¥å…· |
| `iperf` | æµ‹é‡ç½‘ç»œæ€§èƒ½å’Œè°ƒæ•´çš„å·¥å…· |
| `speedtest-cli` | speedtest.net çš„ CLI å·¥å…·ï¼Œç”¨äºæ£€æŸ¥ç½‘é€Ÿ |
| `vnstat` | ä¸»è¦ç”¨äºç›‘æ§ç½‘ç»œæµé‡å’Œå¸¦å®½æ¶ˆè€— |

ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨ä¾‹å­å’Œæ›´æ·±å…¥çš„æ–¹å¼è®¨è®ºå®ƒä»¬ã€‚

è¯·æ³¨æ„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¼šé¢„è£…ã€‚æˆ‘å·²ç»æ·»åŠ äº†é’ˆå¯¹ Debian/Ubuntu çš„è¯´æ˜ã€‚å¯¹äºå…¶ä»–å‘è¡Œç‰ˆï¼Œè¯·ä½¿ç”¨ä½ çš„è½¯ä»¶åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ã€‚

#### 1ã€ip å‘½ä»¤

`ip` å‘½ä»¤æ˜¯æœ€åŸºæœ¬çš„ï¼Œä½†ä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œä½ ä¼šå‘ç°ç³»ç»Ÿç®¡ç†å‘˜ç»å¸¸ä½¿ç”¨å®ƒï¼Œå…¶ç”¨äºä»æ“çºµè·¯ç”±åˆ°åˆ†é…å’Œé…ç½®ç½‘ç»œå‚æ•°ã€‚

è™½ç„¶ç”¨ä¾‹å¯èƒ½æ— ç©·æ— å°½ï¼Œä½†è®©æˆ‘å‘ä½ å±•ç¤º `ip` å‘½ä»¤çš„æœ€åŸºæœ¬ç”¨ä¾‹ï¼ˆå¯»æ‰¾ IP åœ°å€ï¼‰ã€‚

```
ip address
```

![ip address][1]

åŒæ ·ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ `ip` å‘½ä»¤æ¥æŒç»­ç›‘æ§è®¾å¤‡çš„çŠ¶æ€ï¼Œè¯·ä½¿ç”¨ `monitor` å‚æ•°è€Œä¸æ˜¯æˆ‘ä»¬ä¹‹å‰ç”¨æ¥è·å– IP åœ°å€çš„ `address` å‚æ•°ï¼š

```
ip monitor
```

![ip monitor][2]

#### 2ã€traceroute

ä½¿ç”¨ `traceroute` å‘½ä»¤ï¼Œä½ å¯ä»¥ç¡®å®šæ•°æ®åŒ…åˆ°è¾¾ä¸»æœºçš„è·¯çº¿ã€‚è€Œä¸”ï¼Œå½“ä½ æƒ³è¯¢é—®æ•°æ®åŒ…çš„ä¼ è¾“æƒ…å†µå’Œæ•°æ®åŒ…æ‰€èµ°çš„è·³æ•°æ—¶ï¼Œå®ƒå¯èƒ½ç›¸å½“æœ‰ç”¨ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ çš„ç³»ç»Ÿå¯èƒ½æ²¡æœ‰å®‰è£… `traceroute`ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Debian åŠæ´¾ç”Ÿçš„å‘è¡Œç‰ˆï¼ˆåŒ…æ‹¬ Ubuntuï¼‰ï¼Œå®‰è£…æ—¶åªéœ€ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼š

```
sudo apt install traceroute
```

ä¾‹å¦‚ï¼Œè¿½è¸ªåˆ° google.com çš„æ•°æ®åŒ…ï¼š

```
traceroute google.com
```

![traceroute google.com][3]

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`traceroute` ä¼šä½¿ç”¨ IPv4ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ `-6` é€‰é¡¹æ¥æ”¹å˜è¿™ä¸€è¡Œä¸ºï¼Œè¯¥é€‰é¡¹å°†æŒ‡ç¤º `traceroute` ä½¿ç”¨ IPv6ã€‚è®©æˆ‘å‘Šè¯‰ä½ æ€ä¹ˆåšï¼š

![traceroute -6 google.com][4]

#### 3ã€tracepath

`tracepath` å‘½ä»¤ç”¨äºå‘ç° MTUï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒï¼‰ï¼ŒåŒæ—¶è¿½è¸ªåˆ°ç½‘ç»œä¸»æœºçš„è·¯å¾„ã€‚å®ƒä¸æˆ‘ä¸Šé¢è®¨è®ºçš„ `traceroute` å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒä¸éœ€è¦ `sudo` æƒé™ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰åƒå®ƒé‚£ä¹ˆå¤šåŠŸèƒ½ã€‚

ä½†æ˜¯ï¼Œé¦–å…ˆä»€ä¹ˆæ˜¯ MTUï¼Ÿ

MTU å°±æ˜¯å¯ä»¥åœ¨ç½‘ç»œä¸Šä¼ è¾“æˆ–æ¥æ”¶çš„æœ€å¤§å¸§æˆ–æ•°æ®åŒ…ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ google.com çš„ `tracepath` çš„åŸºæœ¬ä¾‹å­ï¼š

```
tracepath google.com
```

![tracepath google.com][5]

åŒæ ·ï¼Œä½ å¯ä»¥ä½¿ç”¨ `-b` é€‰é¡¹åŒæ—¶æ‰“å°å‡º IP åœ°å€å’Œä¸»æœºåã€‚

```
tracepath -b google.com
```

![tracepath -b google.com][6]

#### 4ã€ping

[ping å‘½ä»¤][7]ï¼ˆ<ruby>æ•°æ®åŒ…ç½‘ç»œé£é¾™æ¢äº‘æ‰‹<rt>Packet Internet Groper</rt></ruby> ğŸ¤£ï¼‰ å¯ä»¥è¯´æ˜¯åœ¨æ’é™¤ç½‘ç»œæ•…éšœæ—¶æœ€é‡è¦çš„å‘½ä»¤ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒæ˜¯æ£€æŸ¥ä¸»æœºå’ŒæœåŠ¡å™¨ä¹‹é—´è¿æ¥æƒ…å†µçš„æœ€å¸¸ç”¨æ–¹æ³•ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ `ping` è°·æ­Œï¼š

```
ping google.com
```

![ping google.com][8]

è¿™é‡Œï¼Œæœ€åä¸€è¡Œï¼ˆ`min/avg/max`ï¼‰è¡¨ç¤ºä»æŒ‡å®šçš„æœåŠ¡å™¨è·å¾—å“åº”çš„æ—¶é—´ã€‚

å¦‚æœä½ å¾—åˆ°ä¸€ä¸ªé”™è¯¯æç¤º `bash: ping: command not found` ï¼ˆLCTT è¯‘æ³¨ï¼šä¸ä¼šå§ï¼Ÿï¼‰ï¼Œä½ å¯ä»¥æŸ¥çœ‹æˆ‘ä»¬çš„æŒ‡å— [å¦‚ä½•åœ¨ Ubuntu ä¸Šå®‰è£… Ping][9]ã€‚

#### 5ã€ss

`ss`ï¼ˆ<ruby>å¥—æ¥å­—ç»Ÿè®¡<rt>socket statistics</rt></ruby>ï¼‰å‘½ä»¤ç”¨äºè¯¦ç»†äº†è§£ç½‘ç»œå¥—æ¥å­—ï¼ˆåœ¨ç½‘ç»œä¸Šå‘é€å’Œæ¥æ”¶æ•°æ®çš„ç«¯ç‚¹ï¼‰ã€‚

è¦åˆ—å‡ºæ‰€æœ‰ç›‘å¬å’Œéç›‘å¬çš„ TCP è¿æ¥ï¼Œä½ å¿…é¡»ä½¿ç”¨ `-at` é€‰é¡¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
ss -at
```

![ss -at][10]

åŒæ ·ï¼Œä½ å¯ä»¥ä½¿ç”¨ `-au` é€‰é¡¹å¯¹ UDP ç«¯å£è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼š

```
ss -au
```

![ss -au][11]

#### 6ã€dig

[dig å‘½ä»¤][12]ï¼ˆ<ruby>åŸŸä¿¡æ¯é¾™çˆªæ‰‹<rt>Domain Information Groper</rt></ruby> ğŸ˜œï¼‰ç”¨äºè·å–æœ‰å…³åŸŸåçš„æ‰€æœ‰å¿…è¦ä¿¡æ¯ã€‚

è¦åœ¨åŸºäº Ubuntu çš„å‘è¡Œç‰ˆä¸Šå®‰è£… `dig` å·¥å…·ï¼Œè¯·æŒ‰ç…§ç»™å‡ºçš„å‘½ä»¤è¿›è¡Œï¼š

```
sudo apt install dnsutils
```

ç°åœ¨ï¼Œè®©æˆ‘å‘Šè¯‰ä½ å¦‚ä½•è·å–ä¸€ä¸ªç‰¹å®šä¸»æœºçš„ä¿¡æ¯ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘å°†è·å– itsfoss.com çš„ä¿¡æ¯ï¼š

```
dig itsfoss.com
```

![dig itsfoss.com][13]

#### 7ã€host

`host` å‘½ä»¤ä¸»è¦ç”¨äºè·å–ä¸€ä¸ªç‰¹å®šä¸»æœºçš„ IP åœ°å€ï¼Œæˆ–è€…ä½ å¯ä»¥ä»ä¸€ä¸ªç‰¹å®šçš„ IP åœ°å€è·å–ä¸»æœºåã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ª DNS æŸ¥è¯¢å·¥å…·ã€‚

è¦æ‰¾åˆ°ä¸»æœºçš„ IPï¼Œä½ åªéœ€è¦åœ¨ `host` å‘½ä»¤ä¸­é™„åŠ ä¸»æœºåã€‚è®©æˆ‘å‘Šè¯‰ä½ æ€ä¹ˆåšï¼š

```
host itsfoss.com
```

![host itsfoss.com][14]

åŒæ ·ï¼Œä½ å¯ä»¥ç”¨ä¸€ä¸ª IP åœ°å€æ¥è·å–ä¸»æœºåï¼š

```
host 8.8.4.4
```

![host 8.8.4.4][15]

#### 8ã€hostname

å¦‚æœä½ å·²ç»ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´çš„ Linuxï¼Œä½ ä¸€å®šå¾ˆç†Ÿæ‚‰è¿™ä¸ªå‘½ä»¤ï¼Œå› ä¸ºè¿™ä¸»è¦æ˜¯ç”¨æ¥ [æ”¹å˜ä½ çš„ç³»ç»Ÿçš„ä¸»æœºå][16] å’Œ NISï¼ˆç½‘ç»œä¿¡æ¯ç³»ç»Ÿï¼‰çš„ä¸»æœºåã€‚

å½“ä¸ä½¿ç”¨ä»»ä½•é€‰é¡¹æ—¶ï¼Œå®ƒå¯ä»¥å¾—åˆ°ç³»ç»Ÿå½“å‰çš„ä¸»æœºåã€‚

```
hostname
```

![hostname][17]

ä»åŒ…å«æ‰€éœ€ä¸»æœºåçš„æ–‡ä»¶ä¸­æ”¹å˜ä¸»æœºåæ˜¯è¿™ä¸ªå·¥å…·çš„å¦ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½ï¼š

```
sudo hostname -F <filename>
```

![sudo hostname -F][18]

#### 9ã€curl

`curl`ï¼ˆ<ruby>å®¢æˆ·ç«¯ URL<rt>Client URL</rt></ruby>ï¼‰å‘½ä»¤ä¸»è¦ç”¨äºåœ¨ç½‘ç»œä¸Šä¼ è¾“æ•°æ®ï¼Œæ”¯æŒå„ç§åè®®ï¼ŒåŒ…æ‹¬ HTTPã€FTPã€IMAP å’Œè®¸å¤šå…¶ä»–åè®®ã€‚

è¿™ä¸ªå·¥å…·æ˜¯é¦–é€‰çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨æ²¡æœ‰ä»»ä½•äººç±»äº’åŠ¨çš„æƒ…å†µä¸‹å·¥ä½œçš„ï¼Œä¹Ÿå¯ä»¥ç”¨äºç«¯ç‚¹æµ‹è¯•ã€è°ƒè¯•å’Œé”™è¯¯è®°å½•ã€‚

`curl` å·¥å…·æ²¡æœ‰é¢„è£…ï¼Œå¦‚æœä½ åœ¨ä»»ä½• Debian åŠå…¶æ´¾ç”Ÿå‘è¡Œç‰ˆä¸Šï¼Œä½ åªéœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š

```
sudo apt install curl
```

ä½¿ç”¨ `curl` å‘½ä»¤ [ä¸‹è½½æ–‡ä»¶][19] éå¸¸å®¹æ˜“ï¼Œä½ åªéœ€åœ¨ URL ä¸­ä½¿ç”¨ `-O` é€‰é¡¹ï¼Œå°±å¯ä»¥å¼€å§‹äº†ã€‚

```
curl -O [URL]
```

![curl -o url][20]

åœ¨ä¸‹è½½å¤§æ–‡ä»¶æ—¶ï¼Œè¿›åº¦æ¡ä¼šå¾ˆæ–¹ä¾¿ï¼Œä½ å¯ä»¥ç”¨ `curl` çš„ `-#` é€‰é¡¹æ¥æ˜¾ç¤ºè¿›åº¦æ¡ã€‚

![curl -# -O][21]

#### 10ã€mtr

å®ƒæ˜¯ `ping` å’Œ `traceroute` å·¥å…·çš„ç»„åˆï¼Œä¸»è¦ç”¨äºç½‘ç»œè¯Šæ–­ï¼Œå¹¶æä¾›ç½‘ç»œå“åº”å’Œè¿æ¥çš„å®æ—¶æƒ…å†µã€‚

ä½¿ç”¨ `mtr` çš„æœ€ç®€å•æ–¹æ³•æ˜¯ç”¨å®ƒè·Ÿä¸Šä¸€ä¸ªä¸»æœºåæˆ– IP åœ°å€ï¼Œå®ƒå°†ç»™å‡ºä¸€ä¸ªå®æ—¶çš„ `traceroute` æŠ¥å‘Šã€‚

```
mtr [URL/IP]
```

![mtr google.com][22]

å¦‚æœä½ æƒ³è®© `mtr` åŒæ—¶æ˜¾ç¤ºä¸»æœºåå’Œ IP åœ°å€ï¼Œä½ å¯ä»¥æŠŠå®ƒå’Œ `-b` é€‰é¡¹é…å¯¹ï¼Œå¦‚ä¸‹å›¾ï¼š

```
mtr -b [URL]
```

![mtr -b][23]

#### 11ã€whois

`whois` å¯ä»¥å¸®åŠ©ä½ æ‰¾åˆ°æœ‰å…³æ³¨å†Œçš„åŸŸåã€IP åœ°å€ã€åç§°æœåŠ¡å™¨ç­‰ä¿¡æ¯ï¼Œå› ä¸ºå®ƒæ˜¯ whois ç›®å½•æœåŠ¡çš„å®¢æˆ·ç«¯ã€‚

è¿™ä¸ªå·¥å…·å¯èƒ½æ²¡æœ‰é¢„è£…åœ¨ä½ çš„è®¾å¤‡ä¸Šï¼Œè¦åœ¨åŸºäº Debian/Ubuntu çš„å‘è¡Œç‰ˆä¸Šå®‰è£…ï¼Œä½ å¯ä»¥ä½¿ç”¨ç»™å‡ºçš„å‘½ä»¤ï¼š

```
sudo apt install whois
```

ä¸€èˆ¬æ¥è¯´ï¼Œ`whois` å‘½ä»¤æ˜¯ä¸ç»™å‡ºçš„åŸŸåé…å¯¹ä½¿ç”¨çš„ï¼š

```
whois [DomainName]
```

![whois google.com][24]

å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ª IP åœ°å€æ¥ä»£æ›¿åŸŸåï¼Œä½ ä¼šå¾—åˆ°åŒæ ·çš„ç»†èŠ‚ã€‚

#### 12ã€ifplugstatus

`ifplugstatus` æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„ï¼Œä½†ä¹Ÿæ˜¯æœ€æœ‰ç”¨çš„å·¥å…·ï¼Œè¶³ä»¥åœ¨åŸºæœ¬æ°´å¹³ä¸Šæ’é™¤è¿æ¥é—®é¢˜ã€‚å®ƒç”¨äºæ£€æµ‹æœ¬åœ°ä»¥å¤ªç½‘çš„é“¾æ¥çŠ¶æ€ï¼Œå…¶å·¥ä½œæ–¹å¼ä¸ `mii-diag`ã€`mii-tool` å’Œ `ethtool` ç±»ä¼¼ï¼Œæ”¯æŒæ‰€æœ‰ä¸‰ä¸ª APIã€‚

åœ¨åŸºäº Debian/Ubuntu çš„å‘è¡Œç‰ˆä¸Šå®‰è£…ï¼Œä½ å¯ä»¥æŒ‰ç…§ç»™å‡ºçš„å‘½ä»¤è¿›è¡Œï¼š

```
sudo apt install ifplugd
```

è¿™ä¸ªå·¥å…·æ²¡æœ‰ä»»ä½•èŠ±å“¨çš„é€‰é¡¹ï¼Œç»å¸¸ä¸éœ€è¦ä¸ä»»ä½•é…å¯¹é€‰é¡¹è€Œä½¿ç”¨ï¼š

```
ifplugstatus
```

![ifplugstatus][25]

#### 13ã€iftop

`iftop`ï¼ˆ<ruby>æ¥å£çš„ top<rt>Interface TOP</rt></ruby>ï¼‰ç»å¸¸è¢«ç®¡ç†å‘˜ç”¨æ¥ç›‘æ§ä¸å¸¦å®½æœ‰å…³çš„ç»Ÿè®¡æ•°æ®ï¼Œå½“ä½ é‡åˆ°ç½‘ç»œé—®é¢˜æ—¶ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¯Šæ–­å·¥å…·ä½¿ç”¨ã€‚

è¿™ä¸ªå·¥å…·éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œå¯ä»¥é€šè¿‡ç»™å‡ºçš„å‘½ä»¤åœ¨è¿è¡Œ Debian/Ubuntu çš„æœºå™¨ä¸Šè½»æ¾å®‰è£…ã€‚

```
sudo apt install iftop
```

å½“ `iftop` åœ¨æ²¡æœ‰ä»»ä½•é€‰é¡¹çš„æƒ…å†µä¸‹ä½¿ç”¨æ—¶ï¼Œå®ƒä¼šæ˜¾ç¤ºé»˜è®¤æ¥å£çš„å¸¦å®½ç»Ÿè®¡ã€‚

```
sudo iftop
```

![iftop][26]

ä½ ä¹Ÿå¯ä»¥é€šè¿‡åœ¨è®¾å¤‡åç§°åé¢åŠ ä¸Š `-i` é€‰é¡¹æ¥æŒ‡å®šç½‘ç»œè®¾å¤‡ã€‚

```
sudo iftop -i <DeviceName>.
```

åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œæ˜¯ `enp1s0`ï¼Œæ‰€ä»¥æˆ‘çš„è¾“å‡ºå°†æ˜¯å¦‚ä¸‹ï¼š

![sudo iftop -i enp1s0][27]

#### 14ã€tcpdump

`tcpdump` æ˜¯ä¸€ä¸ªæ•°æ®åŒ…å—…æ¢å’Œåˆ†æå·¥å…·ï¼Œç”¨äºæ•è·ã€åˆ†æå’Œè¿‡æ»¤ç½‘ç»œæµé‡ã€‚å®ƒä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå®‰å…¨å·¥å…·ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå°†æ•è·çš„æ•°æ®ä¿å­˜åœ¨å¯ä»¥ [é€šè¿‡ Wireshark è®¿é—®][28] çš„ pcap æ–‡ä»¶ä¸­ã€‚

åƒè®¸å¤šå…¶ä»–å·¥å…·ä¸€æ ·ï¼Œ`tcpdump` æ²¡æœ‰é¢„è£…ï¼Œå¦‚æœä½ æ˜¯åœ¨Debian/Ubuntu ä¸Šï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š

```
sudo apt install tcpdump
```

ä¸€æ—¦ä½ å®Œæˆäº†å®‰è£…ï¼Œä½ å¯ä»¥è·å¾—å½“å‰æ¥å£çš„æ•è·æ•°æ®åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
sudo tcpdump
```

![sudo tcpdump][29]

é‚£ä¹ˆå¦‚ä½•å°†æ•è·çš„æ•°æ®åŒ…ä¿å­˜åœ¨ pcap æ–‡ä»¶ä¸­å‘¢ï¼Ÿè®©æˆ‘å‘Šè¯‰ä½ æ€ä¹ˆåšï¼š

```
sudo tcpdump -w Captured_Packets.cap -i < networkdevice >
```

![sudo tcpdump -w][30]

è¦è®¿é—®ä¿å­˜çš„æ–‡ä»¶ï¼Œä½ éœ€è¦ä½¿ç”¨ `-r` é€‰é¡¹åŠ ä¸Šæ–‡ä»¶åã€‚

```
sudo tcpdump -r Captured_Packets.pcap
```

![sudo tcpdump -r filename][31]

#### 15ã€ethtool

é¡¾åæ€ä¹‰ï¼Œ`ethtool` å·¥å…·ä¸»è¦æ¶‰åŠç®¡ç†ä»¥å¤ªç½‘è®¾å¤‡ã€‚ä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œä½ å¯ä»¥è°ƒæ•´ç½‘å¡é€Ÿåº¦ã€è‡ªåŠ¨åå•†ç‰¹æ€§ç­‰ã€‚

ä½†å®ƒå¯èƒ½æ²¡æœ‰é¢„è£…åœ¨ä½ çš„æœºå™¨ä¸Šï¼Œå¯ä»¥é€šè¿‡åˆ©ç”¨ç»™å‡ºçš„å‘½ä»¤å®‰è£…åœ¨ Debian/Ubuntu æœºå™¨ä¸Šï¼š

```
sudo apt install ethtool
```

è¦è·å–æ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼Œä½ åªéœ€åœ¨å‘½ä»¤åé¢åŠ ä¸Šè®¾å¤‡åç§°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
sudo ethtool <InterfaceName>
```

![sudo ethtool enp1s0][32]

#### 16ã€nmcli

ä½œä¸ºä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„ç½‘ç»œæ•…éšœæ’é™¤å·¥å…·ï¼Œå®ƒæ˜¯ä»»ä½•ç³»ç»Ÿç®¡ç†å‘˜åœ¨æ’é™¤ç½‘ç»œæ•…éšœæ—¶é¦–å…ˆä½¿ç”¨çš„å·¥å…·ä¹‹ä¸€ï¼Œä¹Ÿå¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨ã€‚

ä½ å¯ä»¥ä½¿ç”¨ `nmcli` å‘½ä»¤æ¥ç›‘æ§è®¾å¤‡çš„è¿æ¥çŠ¶æ€ï¼š

```
nmcli dev status
```

![nmcli dev status][33]

å½“ä¸ä½¿ç”¨ä»»ä½•é€‰é¡¹æ—¶ï¼Œå®ƒå°†å¸¦æ¥ä½ ç³»ç»Ÿä¸­æ‰€æœ‰ç°æœ‰è®¾å¤‡çš„ä¿¡æ¯ï¼š

```
nmcli
```

![nmcli][34]

#### 17ã€nmap

`nmap` æ˜¯ä¸€ä¸ªæ¢ç´¢å’Œå®¡è®¡ç½‘ç»œå®‰å…¨çš„å·¥å…·ã€‚å®ƒç»å¸¸è¢«é»‘å®¢å’Œå®‰å…¨çˆ±å¥½è€…ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸ä½ è·å¾—ç½‘ç»œçš„å®æ—¶ä¿¡æ¯ã€è¿æ¥åˆ°ä½ çš„ç½‘ç»œçš„ IP çš„è¯¦ç»†ä¿¡æ¯ã€ç«¯å£æ‰«æï¼Œä»¥åŠæ›´å¤šã€‚

è¦åœ¨åŸºäº Debian/Ubuntu çš„å‘è¡Œç‰ˆä¸Šå®‰è£… `nmap` å·¥å…·ï¼Œè¯·ä½¿ç”¨ç»™å‡ºçš„å‘½ä»¤ï¼š

```
sudo apt install nmap
```

è®©æˆ‘ä»¬å¼€å§‹æ‰«æä¸»æœºåï¼š

```
nmap itsfoss.com
```

![nmap itsfoss.com][35]

#### 18ã€bmon

`bmon` æ˜¯ä¸€ä¸ªå¼€æºçš„å·¥å…·ï¼Œç”¨äºç›‘æµ‹å®æ—¶å¸¦å®½å’Œè°ƒè¯•é—®é¢˜ï¼Œä»¥æ›´äººæ€§åŒ–çš„æ–¹å¼å‘ˆç°ç»Ÿè®¡æ•°æ®ã€‚è¿™ä¸ªå·¥å…·æœ€å¥½çš„éƒ¨åˆ†æ˜¯å›¾å½¢æ˜¾ç¤ºï¼Œç”šè‡³å¯ä»¥åœ¨ HTML ä¸­å¾—åˆ°ä½ çš„è¾“å‡ºï¼

å®‰è£…éå¸¸ç®€å•ï¼Œå› ä¸º `bmon` å­˜åœ¨äºæµè¡Œçš„ Linux å‘è¡Œç‰ˆçš„é»˜è®¤ä»“åº“ä¸­ï¼Œè¿™ä¹ŸåŒ…æ‹¬ Debian/Ubuntuã€‚

```
sudo apt install bmon
```

ç°åœ¨ï¼Œä½ åªéœ€è¦å¯åŠ¨ `bmon`ï¼Œå°±å¯ä»¥ç”¨çœ¼ç›æ„‰å¿«åœ°ç›‘æ§å¸¦å®½äº†ï¼š

```
bmon
```

![bmon][36]

#### 19ã€firewalld

ç®¡ç†é˜²ç«å¢™å¯ä»¥è¯´æ˜¯ç½‘ç»œå®‰å…¨çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè¿™ä¸ªå·¥å…·å…è®¸ä½ æ·»åŠ ã€é…ç½®å’Œåˆ é™¤é˜²ç«å¢™çš„è§„åˆ™ã€‚

ä½†æ˜¯ firewalld éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯åŸºäº Debian/Ubuntu çš„å‘è¡Œç‰ˆï¼Œä½ å¯ä»¥åˆ©ç”¨ç»™å‡ºçš„å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š

```
sudo apt install firewalld
```

ä¾‹å¦‚ï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºï¼Œå¦‚ä½•ä¸ºå…¬å…±åŒºåŸŸæ°¸ä¹…åœ°æ‰“å¼€ 80 ç«¯å£ï¼š

```
sudo firewall-cmd --permanent --zone=public --add-port=80/tcp
```

![sudo firewall-cmd --permanent --zone=public][37]

åŒæ ·ï¼Œè¦åˆ é™¤æœ€è¿‘æ·»åŠ çš„è§„åˆ™ï¼Œä½ å¿…é¡»ä½¿ç”¨ `-remove` é€‰é¡¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
sudo firewall-cmd --zone=public --remove-port=80/tcp
```

![sudo firewall-cmd --zone=public --remove][38]

#### 20ã€iperf

`iperf` æ˜¯ä¸€ä¸ªç”¨ C è¯­è¨€ç¼–å†™çš„å¼€æºå·¥å…·ï¼Œå…è®¸ç”¨æˆ·è¿›è¡Œç½‘ç»œæ€§èƒ½æµ‹é‡å’Œè°ƒæ•´ã€‚

è¿™ä¸ªå·¥å…·å­˜åœ¨äº Debian/Ubuntu çš„é»˜è®¤èµ„æºåº“ä¸­ï¼Œå¯ä»¥é€šè¿‡ç»™å‡ºçš„å‘½ä»¤å®‰è£…ï¼š

```
sudo apt install iperf
```

è¦å¼€å§‹ç›‘æ§ç½‘ç»œï¼Œç”¨æˆ·å¿…é¡»é€šè¿‡ç»™å‡ºçš„å‘½ä»¤åœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨è¿™ä¸ªå®¢æˆ·ç«¯ï¼š

```
iperf -s -u
```

å…¶ä¸­ï¼Œ`-s` é€‰é¡¹è¡¨ç¤ºæœåŠ¡å™¨ï¼Œ`-u` é€‰é¡¹ä¸º UDP æ ¼å¼ã€‚

![iperf -s -u][39]

ç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡æä¾›é¦–é€‰åè®®çš„ IP åœ°å€æœ‰æ•ˆè½½è·è¿æ¥åˆ°ä½ çš„æœåŠ¡å™¨ï¼ˆä½¿ç”¨ `-c` é€‰é¡¹è¡¨ç¤ºå®¢æˆ·ç«¯ï¼‰ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘é€‰æ‹©äº† UDPï¼ˆä½¿ç”¨ `-u` é€‰é¡¹ï¼‰ï¼Œæœ‰æ•ˆè½½è·ä¸º 100ï¼š

```
iperf -c 10.0.2.15 -u 100
```

![iperf -c][40]

#### 21ã€speedtest-cli

é¡¾åæ€ä¹‰ï¼Œè¿™æ˜¯ speedtest.net ç½‘ç«™çš„ CLI å·¥å…·ã€‚è¿™ä¸ªåœ¨ Apache 2.0 è®¸å¯ä¸‹å‘å¸ƒçš„å¼€æºå·¥å…·ï¼Œå½“ä½ æƒ³ä» CLI è·å¾—ä¸€ä¸ªå¯é çš„ [æ£€æŸ¥ç½‘é€Ÿ][41] çš„æ¥æºæ—¶ï¼Œä¼šæœ‰å¾ˆå¤§å¸®åŠ©ã€‚

å®‰è£…éå¸¸ç®€å•ï¼Œå¦‚æœä½ æ˜¯åœ¨ Debian/Ubuntu ä¸Šï¼Œå¯ä»¥åˆ©ç”¨ç»™å‡ºçš„å‘½ä»¤è½»æ¾å®‰è£…ï¼š

```
sudo apt install speedtest-cli
```

ä¸€æ—¦ä½ å®Œæˆäº†å®‰è£…éƒ¨åˆ†ï¼Œä½ åªéœ€è¦ä½¿ç”¨ä¸€è¡Œå‘½ä»¤å³å¯æµ‹è¯•ä½ çš„é€Ÿåº¦ï¼š

```
speedtest-cli
```

![speedtest-cli][42]

#### 22ã€vnstat

`vnstat` å·¥å…·ä¸»è¦è¢«ç³»ç»Ÿç®¡ç†å‘˜ç”¨æ¥ç›‘æ§ç½‘ç»œæµé‡å’Œå¸¦å®½æ¶ˆè€—ï¼ˆå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼‰ï¼Œå› ä¸ºè¿™ä¸ªå·¥å…·å¯ä»¥ç›‘æ§ä½ ç³»ç»Ÿçš„ç½‘ç»œæ¥å£çš„æµé‡ã€‚

å’Œå…¶ä»–ç½‘ç»œå·¥å…·ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨é»˜è®¤çš„è½¯ä»¶åº“ä¸­æ‰¾åˆ° `vnstat`ï¼Œå¦‚æœä½ åœ¨ Debian/Ubuntu ä¸Šï¼Œå¯ä»¥é€šè¿‡ç»™å‡ºçš„å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š

```
sudo apt install vnstat
```

ä½ å¯ä»¥ä½¿ç”¨ `vnstat` å‘½ä»¤ï¼Œä¸éœ€è¦ä»»ä½•é€‰é¡¹ï¼Œå®ƒå°†å¸¦æ¥ä½ ç³»ç»Ÿæ‰€æœ‰å¯ç”¨æ¥å£çš„åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯ï¼š

```
vnstat
```

![vnstat][43]

å¯¹äºå®æ—¶ç›‘æ§ï¼Œä½ å¯ä»¥å°† `vnstat` å‘½ä»¤ä¸ `-l` é€‰é¡¹é…å¯¹ã€‚

![vnstat -l][44]

### ä¸€ä¸ªé•¿é•¿çš„æ¸…å•ï¼Œå¯¹å—ï¼Ÿ

è¿™ä¸ªæ±‡ç¼–è¿å†°å±±ä¸€è§’éƒ½ç®—ä¸ä¸Šï¼Œåªæ˜¯åˆ†äº«äº†æ¯ä¸ªå‘½ä»¤çš„ç›®çš„å’ŒåŸºæœ¬ä¾‹å­ï¼Œå› ä¸ºå¢åŠ æ›´å¤šçš„å‘½ä»¤ä¼šä½¿è¿™ä¸ªæ¸…å•å˜å¾—æ›´é•¿ã€‚

æµè¡Œçš„ä½† [å·²åºŸå¼ƒçš„ Linux å‘½ä»¤][45]ï¼Œå¦‚ `ipconfig`ï¼Œå·²è¢«æ•…æ„æ’é™¤åœ¨è¿™ä¸ªåˆ—è¡¨ä¹‹å¤–ã€‚

å¦‚æœä½ å¾ˆå¥½å¥‡ï¼Œä½ å¯ä»¥å­¦ä¹  [å¦‚ä½•æœ€å¤§é™åº¦åœ°åˆ©ç”¨æ‰‹å†Œé¡µ][46]ï¼Œè¿™å°†æ•™ä¼šä½ å¦‚ä½•ä½¿ç”¨ä»»ä½•å®ç”¨ç¨‹åºçš„æœ€å¤§æ½œåŠ›ã€‚

å¦‚æœæˆ‘å¿˜äº†æåˆ°ä»»ä½•ä½ å–œæ¬¢çš„ä¸œè¥¿ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚

--------------------------------------------------------------------------------

via: https://itsfoss.com/basic-linux-networking-commands/

ä½œè€…ï¼š[Sagar Sharma][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[wxy](https://github.com/wxy)
æ ¡å¯¹ï¼š[wxy](https://github.com/wxy)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/sagar/
[b]: https://github.com/lkxed
[1]: https://itsfoss.com/wp-content/uploads/2022/08/ip-address-1.png
[2]: https://itsfoss.com/wp-content/uploads/2022/08/ip-monitor.png
[3]: https://itsfoss.com/wp-content/uploads/2022/08/traceroute-google.com_.png
[4]: https://itsfoss.com/wp-content/uploads/2022/08/traceroute-6-google.com_.png
[5]: https://itsfoss.com/wp-content/uploads/2022/08/tracepath-google.com_.png
[6]: https://itsfoss.com/wp-content/uploads/2022/08/tracepath-b-google.com_.png
[7]: https://linuxhandbook.com/ping-command-ubuntu/
[8]: https://itsfoss.com/wp-content/uploads/2022/08/ping-google.com_.png
[9]: https://linuxhandbook.com/ping-command-ubuntu/
[10]: https://itsfoss.com/wp-content/uploads/2022/08/ss-at.png
[11]: https://itsfoss.com/wp-content/uploads/2022/08/ss-au.png
[12]: https://linuxhandbook.com/dig-command/
[13]: https://itsfoss.com/wp-content/uploads/2022/08/dig-itsfoss.com_.png
[14]: https://itsfoss.com/wp-content/uploads/2022/08/host-itsfoss.com_.png
[15]: https://itsfoss.com/wp-content/uploads/2022/08/host-8.8.4.4.png
[16]: https://itsfoss.com/change-hostname-ubuntu/
[17]: https://itsfoss.com/wp-content/uploads/2022/08/hostname.png
[18]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-hostname-f.png
[19]: https://linuxhandbook.com/curl-command-examples/
[20]: https://itsfoss.com/wp-content/uploads/2022/08/curl-o-url.png
[21]: https://itsfoss.com/wp-content/uploads/2022/08/curl-o.png
[22]: https://itsfoss.com/wp-content/uploads/2022/08/mtr-google.com_.png
[23]: https://itsfoss.com/wp-content/uploads/2022/08/mtr-b.png
[24]: https://itsfoss.com/wp-content/uploads/2022/08/whois-google.com_.png
[25]: https://itsfoss.com/wp-content/uploads/2022/08/ifplugstatus.png
[26]: https://itsfoss.com/wp-content/uploads/2022/08/iftop.png
[27]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-iftop-i-enp1s0.png
[28]: https://itsfoss.com/install-wireshark-ubuntu/
[29]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-tcpdump.png
[30]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-tcpdump-w-.png
[31]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-tcpdump-r-filename.png
[32]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-ethtool-enp1s0.png
[33]: https://itsfoss.com/wp-content/uploads/2022/08/nmcli-dev-status.png
[34]: https://itsfoss.com/wp-content/uploads/2022/08/nmcli.png
[35]: https://itsfoss.com/wp-content/uploads/2022/08/nmap-itsfoss.com_.png
[36]: https://itsfoss.com/wp-content/uploads/2022/08/bmon-800x591.png
[37]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-firewall-cmd-permanent-zonepublic.png
[38]: https://itsfoss.com/wp-content/uploads/2022/08/sudo-firewall-cmd-zonepublic-remove.png
[39]: https://itsfoss.com/wp-content/uploads/2022/08/iperf-s-u.png
[40]: https://itsfoss.com/wp-content/uploads/2022/08/iperf-c-.png
[41]: https://itsfoss.com/network-speed-monitor-linux/
[42]: https://itsfoss.com/wp-content/uploads/2022/08/speedtest-cli.png
[43]: https://itsfoss.com/wp-content/uploads/2022/08/vnstat.png
[44]: https://itsfoss.com/wp-content/uploads/2022/08/vnstat-l.png
[45]: https://itsfoss.com/deprecated-linux-commands/
[46]: https://linuxhandbook.com/man-pages/
