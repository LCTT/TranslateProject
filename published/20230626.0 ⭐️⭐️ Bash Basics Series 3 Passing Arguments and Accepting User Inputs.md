[#]: subject: "Bash Basics Series #3: Passing Arguments and Accepting User Inputs"
[#]: via: "https://itsfoss.com/bash-pass-arguments/"
[#]: author: "Abhishek Prakash https://itsfoss.com/author/abhishek/"
[#]: collector: "lkxed"
[#]: translator: "geekpi"
[#]: reviewer: "wxy"
[#]: publisher: "wxy"
[#]: url: "https://linux.cn/article-16001-1.html"

Bash åŸºç¡€çŸ¥è¯†ç³»åˆ— #3ï¼šä¼ é€’å‚æ•°å’Œæ¥å—ç”¨æˆ·è¾“å…¥
======

![][0]

> åœ¨ Bash åŸºç¡€ç³»åˆ—çš„è¿™ä¸€ç« ä¸­ï¼Œå­¦ä¹ å¦‚ä½•å‘ Bash è„šæœ¬ä¼ é€’å‚æ•°å¹¶ä½¿å®ƒä»¬å…·æœ‰äº¤äº’æ€§ã€‚

æ¥è®© Bash è„šæœ¬æœ‰å‚æ•°å§ ğŸ˜‰

ä½ å¯ä»¥é€šè¿‡å‘ Bash è„šæœ¬ä¼ é€’å˜é‡æ¥ä½¿å…¶æ›´åŠ æœ‰ç”¨å’Œæ›´å…·äº¤äº’æ€§ã€‚

è®©æˆ‘é€šè¿‡ç¤ºä¾‹è¯¦ç»†å‘ä½ å±•ç¤ºè¿™ä¸€ç‚¹ã€‚

### å°†å‚æ•°ä¼ é€’ç»™ Shell è„šæœ¬

å½“ä½ è¿è¡Œ Shell è„šæœ¬æ—¶ï¼Œä½ å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼å‘å…¶ä¸­æ·»åŠ å…¶ä»–å˜é‡ï¼š

```
./my_script.sh var1 var2
```

åœ¨è„šæœ¬å†…éƒ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ `$1` ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ`$2` ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚

> ğŸ’¡ `$0` æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œä¿å­˜æ­£åœ¨æ‰§è¡Œçš„è„šæœ¬çš„åç§°ã€‚

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…çš„ä¾‹å­æ¥çœ‹çœ‹ã€‚åˆ‡æ¢åˆ°ä¿å­˜ç»ƒä¹  Bash è„šæœ¬çš„ç›®å½•ã€‚

```
mkdir -p bash_scripts && cd bash_scripts
```

ç°åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `arguments.sh` ï¼ˆæˆ‘æƒ³ä¸å‡ºæ›´å¥½çš„åç§°ï¼‰çš„æ–° Shell è„šæœ¬ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼š

```
#!/bin/bash

echo "Script name is: $0"
echo "First argument is: $1"
echo "Second argument is: $2"
```

ä¿å­˜æ–‡ä»¶å¹¶ä½¿å…¶å¯æ‰§è¡Œã€‚ç°åœ¨åƒå¾€å¸¸ä¸€æ ·è¿è¡Œè„šæœ¬ï¼Œä½†è¿™æ¬¡å‘å…¶ä¸­æ·»åŠ ä»»æ„ä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚ä½ å°†çœ‹åˆ°å±å¹•ä¸Šæ‰“å°çš„è¯¦ç»†ä¿¡æ¯ã€‚

> ğŸš§ å‚æ•°ç”±ç©ºæ ¼ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ï¼‰åˆ†éš”ã€‚å¦‚æœå‚æ•°ä¸­æœ‰ç©ºæ ¼ï¼Œè¯·ä½¿ç”¨ï¼ˆè‹±æ–‡ï¼‰åŒå¼•å·å°†å…¶å¼•èµ·æ¥ï¼Œå¦åˆ™å®ƒå°†è¢«è§†ä¸ºå•ç‹¬çš„å‚æ•°ã€‚

![Pass arguments to the bash scripting][1]

> ğŸ’¡ Bash è„šæœ¬æœ€å¤šæ”¯æŒ 255 ä¸ªå‚æ•°ã€‚ä½†å¯¹äºå‚æ•° 10 åŠä»¥ä¸Šï¼Œä½ å¿…é¡»ä½¿ç”¨èŠ±æ‹¬å· `${10}`ã€`${11}`...`${n}`ã€‚

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œ`$0` ä»£è¡¨è„šæœ¬åç§°ï¼Œè€Œå…¶ä½™å‚æ•°å­˜å‚¨åœ¨ç¼–å·å˜é‡ä¸­ã€‚ä½ è¿˜å¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨ä¸€äº›å…¶ä»–ç‰¹æ®Šå˜é‡ã€‚

| ç‰¹æ®Šå˜é‡ | å˜é‡æè¿° |
| :- | :- |
| `$0` | è„šæœ¬åç§° |
| `$1`ã€`$2`ã€â€¦â€¦`$9` | è„šæœ¬å‚æ•° |
| `${n}` | è„šæœ¬å‚æ•°ä» 10 åˆ° 255 |
| `$#` | å‚æ•°æ•°é‡ |
| `$@` | æ‰€æœ‰å‚æ•° |
| `$$` | å½“å‰ Shell çš„è¿›ç¨‹ ID |
| `$!` | æœ€åæ‰§è¡Œçš„å‘½ä»¤çš„è¿›ç¨‹ ID |
| `$?` | æœ€åæ‰§è¡Œå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ |

> ğŸ‹ï¸â€â™€ï¸ ä¿®æ”¹ä¸Šé¢çš„è„šæœ¬ä»¥æ˜¾ç¤ºå‚æ•°æ•°é‡ã€‚

#### å¦‚æœå‚æ•°æ•°é‡ä¸åŒ¹é…æ€ä¹ˆåŠï¼Ÿ

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œä½ ä¸º Bash è„šæœ¬æä¾›äº†ä¸¤ä¸ªå‚æ•°å¹¶åœ¨è„šæœ¬ä¸­ä½¿ç”¨äº†å®ƒä»¬ã€‚

ä½†æ˜¯ï¼Œå¦‚æœä½ åªæä¾›ä¸€ä¸ªå‚æ•°æˆ–ä¸‰ä¸ªå‚æ•°æ€ä¹ˆåŠï¼Ÿ

è®©æˆ‘ä»¬å®é™…åšä¸€ä¸‹å§ã€‚

![Passing fewer or more arguments to bash script][3]

æ­£å¦‚ä½ åœ¨ä¸Šé¢æ‰€çœ‹åˆ°çš„ï¼Œå½“ä½ æä¾›çš„å‚æ•°è¶…å‡ºé¢„æœŸæ—¶ï¼Œç»“æœä»ç„¶æ˜¯ä¸€æ ·çš„ã€‚ä¸ä½¿ç”¨å…¶ä»–å‚æ•°ï¼Œå› æ­¤ä¸ä¼šäº§ç”Ÿé—®é¢˜ã€‚

ä½†æ˜¯ï¼Œå½“ä½ æä¾›çš„å‚æ•°å°‘äºé¢„æœŸæ—¶ï¼Œè„šæœ¬å°†æ˜¾ç¤ºç©ºç™½ã€‚å¦‚æœè„šæœ¬çš„ä¸€éƒ¨åˆ†ä¾èµ–äºç¼ºå°‘çš„å‚æ•°ï¼Œè¿™å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚

### æ¥å—ç”¨æˆ·è¾“å…¥å¹¶åˆ¶ä½œäº¤äº’å¼ Bash è„šæœ¬

ä½ è¿˜å¯ä»¥åˆ›å»ºæç¤ºç”¨æˆ·é€šè¿‡é”®ç›˜æä¾›è¾“å…¥çš„ Bash è„šæœ¬ã€‚è¿™ä½¿ä½ çš„è„šæœ¬å…·æœ‰äº¤äº’æ€§ã€‚

`read` å‘½ä»¤æä¾›äº†æ­¤åŠŸèƒ½ã€‚ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š

```
echo "Enter something"
read var
```

ä¸Šé¢çš„ `echo` å‘½ä»¤ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æœ€ç»ˆç”¨æˆ·ä¸ä¼šçŸ¥é“ä»–ä»¬å¿…é¡»æä¾›è¾“å…¥ã€‚ç„¶åç”¨æˆ·åœ¨æŒ‰å›è½¦é”®ä¹‹å‰è¾“å…¥çš„æ‰€æœ‰å†…å®¹éƒ½å­˜å‚¨åœ¨ `var` å˜é‡ä¸­ã€‚

ä½ è¿˜å¯ä»¥æ˜¾ç¤ºæç¤ºæ¶ˆæ¯å¹¶åœ¨å•è¡Œä¸­è·å–å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
read -p "Enter something? " var
```

è®©æˆ‘ä»¬çœ‹çœ‹å®ƒçš„å®é™…æ•ˆæœã€‚åˆ›å»ºä¸€ä¸ªæ–°çš„ `interactive.sh` Shell è„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
#!/bin/bash

echo "What is your name, stranger?"
read name
read -p "What's your full name, $name? " full_name
echo "Welcome, $full_name"
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä½¿ç”¨ `name` å˜é‡æ¥è·å–åç§°ã€‚ç„¶åæˆ‘åœ¨æç¤ºä¸­ä½¿ç”¨ `name` å˜é‡ï¼Œå¹¶åœ¨ `full_name` å˜é‡ä¸­è·å–ç”¨æˆ·è¾“å…¥ã€‚æˆ‘ä½¿ç”¨äº†ä¸¤ç§ä½¿ç”¨ `read` å‘½ä»¤çš„æ–¹æ³•ã€‚

ç°åœ¨ï¼Œå¦‚æœä½ æˆäºˆæ‰§è¡Œæƒé™ï¼Œç„¶åè¿è¡Œæ­¤è„šæœ¬ï¼Œä½ ä¼šæ³¨æ„åˆ°è¯¥è„šæœ¬æ˜¾ç¤º `What is your name, stranger?`ï¼Œç„¶åç­‰å¾…ä½ ä»é”®ç›˜è¾“å…¥å†…å®¹ã€‚ä½ æä¾›è¾“å…¥ï¼Œç„¶åå®ƒä¼šæ˜¾ç¤º `What's your full name` æ¶ˆæ¯ï¼Œå¹¶å†æ¬¡ç­‰å¾…è¾“å…¥ã€‚

ä»¥ä¸‹æ˜¯ä¾›ä½ å‚è€ƒçš„ç¤ºä¾‹è¾“å‡ºï¼š

![Interactive bash shell script][4]

### ğŸ‹ï¸ ç»ƒä¹ æ—¶é—´

æ˜¯æ—¶å€™ç»ƒä¹ ä½ æ‰€å­¦åˆ°çš„ä¸œè¥¿äº†ã€‚å°è¯•ä¸ºä»¥ä¸‹åœºæ™¯ç¼–å†™ç®€å•çš„ Bash è„šæœ¬ã€‚

**ç»ƒä¹  1**ï¼šç¼–å†™ä¸€ä¸ªå¸¦æœ‰ä¸‰ä¸ªå‚æ•°çš„è„šæœ¬ã€‚ä½ å¿…é¡»ä½¿è„šæœ¬ä»¥ç›¸åçš„é¡ºåºæ˜¾ç¤ºå‚æ•°ã€‚

é¢„æœŸè¾“å‡ºï¼š

```
abhishek@itsfoss:~/bash_scripts$ ./reverse.sh ubuntu fedora arch
Arguments in reverse order:
arch fedora ubuntu
```

**ç»ƒä¹  2**ï¼šç¼–å†™ä¸€ä¸ªè„šæœ¬ï¼Œæ˜¾ç¤ºä¼ é€’ç»™å®ƒçš„å‚æ•°æ•°é‡ã€‚

æç¤ºï¼šä½¿ç”¨ç‰¹æ®Šå˜é‡ `$#`ã€‚

é¢„æœŸè¾“å‡ºï¼š

```
abhishek@itsfoss:~/bash_scripts$ ./arguments.sh one and two and three
Total number of arguments: 5
```

**ç»ƒä¹  3**ï¼šç¼–å†™ä¸€ä¸ªè„šæœ¬ï¼Œå°†æ–‡ä»¶åä½œä¸ºå‚æ•°å¹¶æ˜¾ç¤ºå…¶è¡Œå·ã€‚

æç¤ºï¼šä½¿ç”¨ `wc` å‘½ä»¤æ¥è®¡ç®—è¡Œå·ã€‚

ä½ å¯ä»¥åœ¨ç¤¾åŒºä¸­è®¨è®ºä½ çš„è§£å†³æ–¹æ¡ˆã€‚

å¾ˆå¥½ï¼ ç°åœ¨ä½ å¯ä»¥ï¼ˆä¼ é€’ï¼‰å‚æ•°äº† :) åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œä½ å°†å­¦ä¹ åœ¨ Bash ä¸­æ‰§è¡ŒåŸºæœ¬æ•°å­¦è¿ç®—ã€‚

*ï¼ˆé¢˜å›¾ï¼šMJ/5a75aa2f-1cb1-4009-a4e6-683cf61bc892ï¼‰*

--------------------------------------------------------------------------------

via: https://itsfoss.com/bash-pass-arguments/

ä½œè€…ï¼š[Abhishek Prakash][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[geekpi](https://github.com/geekpi)
æ ¡å¯¹ï¼š[wxy](https://github.com/wxy)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/abhishek/
[b]: https://github.com/lkxed/
[1]: https://itsfoss.com/content/images/2023/06/run-bash-script-with-arguments.png
[2]: https://itsfoss.com/cdn-cgi/l/email-protection
[3]: https://itsfoss.com/content/images/2023/06/passing-non-matching-arguments-bash-shell.png
[4]: https://itsfoss.com/content/images/2023/06/interactive-bash-shell-script.png
[0]: https://img.linux.net.cn/data/attachment/album/202307/15/094330dzt3s3ygshsst39t.jpg