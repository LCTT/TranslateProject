[#]: subject: "Bash Basics Series #6: Handling String Operations"
[#]: via: "https://itsfoss.com/bash-strings/"
[#]: author: "Abhishek Prakash https://itsfoss.com/author/abhishek/"
[#]: collector: "lkxed"
[#]: translator: "geekpi"
[#]: reviewer: "wxy"
[#]: publisher: "wxy"
[#]: url: "https://linux.cn/article-16047-1.html"

Bash åŸºç¡€çŸ¥è¯†ç³»åˆ— #6ï¼šå¤„ç†å­—ç¬¦ä¸²æ“ä½œ
======

![][0]

åœ¨å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä½ éƒ½ä¼šæ‰¾åˆ°å­—ç¬¦ä¸²æ•°æ®ç±»å‹ã€‚å­—ç¬¦ä¸²åŸºæœ¬ä¸Šæ˜¯ä¸€ç»„å­—ç¬¦ã€‚

ä½† Bash shell æœ‰æ‰€ä¸åŒã€‚å­—ç¬¦ä¸²æ²¡æœ‰å•ç‹¬çš„æ•°æ®ç±»å‹ã€‚è¿™é‡Œä¸€åˆ‡éƒ½æ˜¯å˜é‡ã€‚

ä½†è¿™å¹¶ä¸æ„å‘³ç€ä½ ä¸èƒ½åƒåœ¨ C å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­é‚£æ ·å¤„ç†å­—ç¬¦ä¸²ã€‚

åœ¨ Bash Shell ä¸­å¯ä»¥æŸ¥æ‰¾å­å­—ç¬¦ä¸²ã€æ›¿æ¢å­å­—ç¬¦ä¸²ã€è¿æ¥å­—ç¬¦ä¸²ä»¥åŠæ›´å¤šå­—ç¬¦ä¸²æ“ä½œã€‚

åœ¨ Bash åŸºç¡€çŸ¥è¯†ç³»åˆ—çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œä½ å°†å­¦ä¹ åŸºæœ¬çš„å­—ç¬¦ä¸²æ“ä½œã€‚

### åœ¨ Bash ä¸­è·å–å­—ç¬¦ä¸²é•¿åº¦

è®©æˆ‘ä»¬ä»æœ€ç®€å•çš„é€‰é¡¹å¼€å§‹ã€‚ä¹Ÿå°±æ˜¯è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚è¿™å¾ˆç®€å•ï¼š

```
${#string}
```

è®©æˆ‘ä»¬åœ¨ç¤ºä¾‹ä¸­ä½¿ç”¨å®ƒã€‚

![Example of getting string length in bash][1]

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œç¬¬äºŒä¸ªç¤ºä¾‹ä¸­æœ‰ä¸¤ä¸ªå•è¯ï¼Œä½†ç”±äºå®ƒç”¨å¼•å·å¼•èµ·æ¥ï¼Œå› æ­¤å®ƒè¢«è§†ä¸ºå•ä¸ªå•è¯ã€‚è¿ç©ºæ ¼éƒ½ç®—ä½œä¸€ä¸ªå­—ç¬¦ã€‚

### åœ¨ Bash ä¸­è¿æ¥å­—ç¬¦ä¸²

ç”¨æŠ€æœ¯æœ¯è¯­æ¥è¯´æ˜¯å­—ç¬¦ä¸² <ruby>è¿æ¥<rt>concatenation</rt></ruby>ï¼Œè¿™æ˜¯ Bash ä¸­æœ€ç®€å•çš„å­—ç¬¦ä¸²æ“ä½œä¹‹ä¸€ã€‚

ä½ åªéœ€åƒè¿™æ ·ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°ä½¿ç”¨å­—ç¬¦ä¸²å˜é‡ï¼š

```
str3=$str1$str2
```

è¿˜èƒ½æ¯”è¿™æ›´ç®€å•å—ï¼Ÿæˆ‘è§‰å¾—ä¸èƒ½ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚è¿™æ˜¯æˆ‘çš„ç¤ºä¾‹è„šæœ¬ï¼Œåä¸º `join.sh`ï¼š

```
#!/bin/bash

read -p "Enter first string: " str1
read -p "Enter second string: " str2

joined=$str1$str2

echo "The joined string is: $joined"
```

ä»¥ä¸‹æ˜¯è¯¥è„šæœ¬çš„è¿è¡Œç¤ºä¾‹ï¼š

![Join two strings in bash][2]

### åœ¨ Bash ä¸­æå–å­å­—ç¬¦ä¸²

å‡è®¾ä½ æœ‰ä¸€ä¸ªåŒ…å«å¤šä¸ªå­—ç¬¦çš„å¤§å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”ä½ æƒ³è¦æå–å…¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚

è¦æå–å­å­—ç¬¦ä¸²ï¼Œéœ€è¦æŒ‡å®šä¸»å­—ç¬¦ä¸²ã€å­å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å’Œå­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
${string:$pos:$len}
```

> ğŸ’¡ å’Œæ•°ç»„ä¸€æ ·ï¼Œå­—ç¬¦ä¸²ä¸­çš„å®šä½ä¹Ÿæ˜¯ä» 0 å¼€å§‹ã€‚

è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

![Extracting substring in bash][3]

å³ä½¿ä½ æŒ‡å®šçš„å­å­—ç¬¦ä¸²é•¿åº¦å¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œå®ƒä¹Ÿåªä¼šåˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾ã€‚

### æ›¿æ¢ Bash ä¸­çš„å­å­—ç¬¦ä¸²

å‡è®¾ä½ æœ‰ä¸€ä¸ªå¤§å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”ä½ æƒ³ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ›¿æ¢å…¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ç§è¯­æ³•ï¼š

```
${string/substr1/substr2}
```

> âœ‹ åªæœ‰ç¬¬ä¸€æ¬¡å‡ºç°çš„å­å­—ç¬¦ä¸²æ‰ä¼šä»¥è¿™ç§æ–¹å¼æ›¿æ¢ã€‚å¦‚æœè¦æ›¿æ¢æ‰€æœ‰å‡ºç°çš„åœ°æ–¹ï¼Œè¯·ä½¿ç”¨ `${string//substr1/substr2}`

è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

![Replace substring in bash][4]

æ­£å¦‚ä½ åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œâ€œgoodâ€ ä¸€è¯è¢«æ›¿æ¢ä¸º â€œbestâ€ã€‚æˆ‘å°†æ›¿æ¢çš„å­—ç¬¦ä¸²ä¿å­˜åˆ°åŒä¸€å­—ç¬¦ä¸²ä¸­ä»¥æ›´æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚

> ğŸ’¡ å¦‚æœæœªæ‰¾åˆ°å­å­—ç¬¦ä¸²ï¼Œåˆ™ä¸ä¼šæ›¿æ¢ä»»ä½•å†…å®¹ã€‚å®ƒä¸ä¼šå¯¼è‡´é”™è¯¯ã€‚

### åœ¨ Bash ä¸­åˆ é™¤å­å­—ç¬¦ä¸²

æˆ‘ä»¬æ¥è°ˆè°ˆåˆ é™¤å­å­—ç¬¦ä¸²ã€‚å‡è®¾ä½ è¦åˆ é™¤å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€å°†å­å­—ç¬¦ä¸²æä¾›ç»™ä¸»å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
${string/substring}
```

> âœ‹ é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä»…åˆ é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„å­å­—ç¬¦ä¸²ã€‚å¦‚æœè¦åˆ é™¤æ‰€æœ‰å‡ºç°çš„å†…å®¹ï¼Œè¯·ä½¿ç”¨ `${string//substr}`

å¦‚æœæ‰¾åˆ°å­å­—ç¬¦ä¸²ï¼Œåˆ™å°†ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤å®ƒã€‚

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹ã€‚

![Delete substring in bash][5]

ä¸ç”¨è¯´ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å­å­—ç¬¦ä¸²ï¼Œåˆ™ä¸ä¼šåˆ é™¤å®ƒã€‚å®ƒä¸ä¼šå¯¼è‡´é”™è¯¯ã€‚

### ğŸ‹ï¸ ç»ƒä¹ æ—¶é—´

ç°åœ¨æ˜¯ä½ é€šè¿‡ç®€å•ç»ƒä¹ æ¥å®è·µå­—ç¬¦ä¸²æ“ä½œçš„æ—¶å€™äº†ã€‚

**ç»ƒä¹  1**ï¼šå£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸² â€œI am all wetâ€ã€‚ç°åœ¨é€šè¿‡ç”¨ â€œsetâ€ æ›¿æ¢å•è¯ â€œwetâ€ æ¥æ›´æ”¹æ­¤å­—ç¬¦ä¸²ã€‚

**ç»ƒä¹  2**ï¼šåˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»¥ `112-123-1234` æ ¼å¼ä¿å­˜ç”µè¯å·ç ã€‚ç°åœ¨ï¼Œä½ å¿…é¡»åˆ é™¤æ‰€æœ‰ `-`ã€‚

è¿™åº”è¯¥ä¼šç»™ä½ ä¸€äº›åœ¨ Bash ä¸­ä½¿ç”¨å­—ç¬¦ä¸²çš„ä¸é”™çš„ç»ƒä¹ ã€‚åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•åœ¨ Bash ä¸­ä½¿ç”¨ `if-else` è¯­å¥ã€‚æ•¬è¯·å…³æ³¨ã€‚

*ï¼ˆé¢˜å›¾ï¼šMJ/aa73b2c9-6d2f-42e2-972d-94fab56d30ccï¼‰*

--------------------------------------------------------------------------------

via: https://itsfoss.com/bash-strings/

ä½œè€…ï¼š[Abhishek Prakash][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[geekpi](https://github.com/geekpi)
æ ¡å¯¹ï¼š[wxy](https://github.com/wxy)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/abhishek/
[b]: https://github.com/lkxed/
[1]: https://itsfoss.com/content/images/2023/07/bash-string-length-example.png
[2]: https://itsfoss.com/content/images/2023/07/join-strings-bash.png
[3]: https://itsfoss.com/content/images/2023/07/extract-substring-bash.png
[4]: https://itsfoss.com/content/images/2023/07/replace-substring-bash.png
[5]: https://itsfoss.com/content/images/2023/07/bash-delete-substring.png
[0]: https://img.linux.net.cn/data/attachment/album/202307/30/090030gvm6pgutlvzll4zg.jpg