[#]: subject: "Bash Basics Series #4: Arithmetic Operations"
[#]: via: "https://itsfoss.com/bash-arithmetic-operation/"
[#]: author: "Abhishek Prakash https://itsfoss.com/author/abhishek/"
[#]: collector: "lkxed"
[#]: translator: "geekpi"
[#]: reviewer: "wxy"
[#]: publisher: "wxy"
[#]: url: "https://linux.cn/article-16006-1.html"

Bash åŸºç¡€çŸ¥è¯†ç³»åˆ— #4ï¼šç®—æœ¯è¿ç®—
======

![][0]

> åœ¨æœ¬ç³»åˆ—çš„ç¬¬å››ç« ï¼Œå­¦ä¹ åœ¨ Bash ä¸­ä½¿ç”¨åŸºæœ¬æ•°å­¦è¿ç®—ã€‚

ä½ å¯ä»¥ä½¿ç”¨ Bash è„šæœ¬åšå¾ˆå¤šäº‹æƒ…ã€‚å¯¹å˜é‡æ‰§è¡Œç®€å•çš„ç®—æœ¯è¿ç®—å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚

Bash shell ä¸­ç®—æœ¯è¿ç®—çš„è¯­æ³•å¦‚ä¸‹ï¼š

```
$((arithmetic_operation))
```

å‡è®¾ä½ å¿…é¡»è®¡ç®—ä¸¤ä¸ªå˜é‡çš„æ€»å’Œã€‚ä½ è¿™æ ·åšï¼š

```
sum=$(($num1 + $num2))
```

`(())` å†…ç©ºæ ¼çš„ä½¿ç”¨æ²¡æœ‰é™åˆ¶ã€‚ä½ å¯ä»¥ä½¿ç”¨ `$(( $num1+ $num2))`ã€`$(( $num1+ $num2 ))` æˆ–è€… `$(( $num1+ $num2 ))`ã€‚å®ƒä»¬éƒ½ä¸€æ ·ã€‚

åœ¨é€šè¿‡ç¤ºä¾‹è¯¦ç»†è®¨è®ºä¹‹å‰ï¼Œæˆ‘å…ˆåˆ†äº«ä¸€ä¸‹å®ƒæ”¯æŒçš„ç®—æœ¯è¿ç®—ç¬¦ã€‚

### Bash ä¸­çš„åŸºæœ¬ç®—æœ¯è¿ç®—ç¬¦

ä»¥ä¸‹æ˜¯ Bash shell ä¸­ç®—æœ¯è¿ç®—ç¬¦çš„åˆ—è¡¨ã€‚

| è¿ç®—ç¬¦ | æè¿° |
| :- | :- |
| `+` | åŠ æ³• |
| `-` | å‡æ³•|
| `*` | ä¹˜æ³•|
| `/` | æ•´æ•°é™¤æ³•ï¼ˆä¸å¸¦å°æ•°ï¼‰ |
| `%` | æ¨¡é™¤æ³•ï¼ˆä»…ä½™æ•°ï¼‰|
| `**`` | æ±‚å¹‚ï¼ˆa çš„ b æ¬¡æ–¹ï¼‰|

> ğŸš§ Bash ä¸æ”¯æŒæµ®ç‚¹æ•°ï¼ˆå°æ•°ï¼‰ã€‚ä½ å¿…é¡»ä½¿ç”¨å…¶ä»–å‘½ä»¤ï¼ˆä¾‹å¦‚ `bc`ï¼‰æ¥å¤„ç†å®ƒä»¬ã€‚

### Bash ä¸­çš„åŠ æ³•å’Œå‡æ³•

è®©æˆ‘ä»¬é€šè¿‡ç¼–å†™ä¸€ä¸ªè„šæœ¬æ¥çœ‹çœ‹å®ƒï¼Œè¯¥è„šæœ¬ä»ç”¨æˆ·é‚£é‡Œè·å–ä¸¤ä¸ªæ•°å­—ï¼Œç„¶åæ‰“å°å®ƒä»¬çš„æ€»å’Œå’Œå‡æ³•ã€‚

```
#!/bin/bash

read -p "Enter first number: " num1
read -p "Enter second number: " num2

sum=$(($num1+$num2))
sub=$(($num1-$num2))
echo "The summation of $num1 and $num2 is $sum"
echo "The substraction of $num2 from $num1 is $sub"
```

æˆ‘ç›¸ä¿¡ä½ ç†Ÿæ‚‰ä¸Šä¸€ç« ä¸­ä½¿ç”¨ `read` å‘½ä»¤æ¥ [åœ¨ Bash ä¸­æ¥å—ç”¨æˆ·è¾“å…¥][1]ã€‚

ä½ åº”è¯¥å…³æ³¨è¿™ä¸¤è¡Œï¼š

```
sum=$(($num1+$num2))
sub=$(($num1-$num2))
```

å°†æ­¤è„šæœ¬ä¿å­˜ä¸º `sum.sh` å¹¶è¿è¡Œå®ƒã€‚ç»™å®ƒä¸€äº›è¾“å…¥å¹¶æ£€æŸ¥ç»“æœã€‚

![Example of addition and subtraction in Bash shell script][2]

### Bash ä¸­çš„ä¹˜æ³•

ç°åœ¨è®©æˆ‘ä»¬è½¬å‘ä¹˜æ³•ã€‚

è¿™æ˜¯ä¸€ä¸ªå°†å…¬é‡Œè½¬æ¢ä¸ºç±³çš„ç¤ºä¾‹è„šæœ¬ï¼ˆè¿™ç»™ç¾å›½è¯»è€…å¸¦æ¥äº†éº»çƒ¦ :Dï¼‰ã€‚ä½œä¸ºå‚è€ƒï¼Œ1 å…¬é‡Œç­‰äº 1000 ç±³ã€‚

```
#!/bin/bash

read -p "Enter distance in kilometers: " km
meters=$(($km*1000))

echo "$km KM equals to $meters meters"
```

å°†è„šæœ¬ä¿å­˜ä¸º `multi.sh`ï¼Œèµ‹äºˆå…¶æ‰§è¡Œæƒé™å¹¶è¿è¡Œå®ƒã€‚è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è¾“å‡ºï¼š

![Multiplication in bash script][3]

çœ‹èµ·æ¥ä¸é”™ï¼Œä¸æ˜¯å—ï¼Ÿ è®©æˆ‘ä»¬ç»§ç»­è¿›è¡Œé™¤æ³•ã€‚

### Bash è„šæœ¬ä¸­çš„é™¤æ³•

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªéå¸¸ç®€å•çš„è„šæœ¬æ¥çœ‹çœ‹é™¤æ³•ï¼š

```
#!/bin/bash

num1=50
num2=5

result=$(($num1/$num2))

echo "The result is $result"
```

ä½ å¾ˆå®¹æ˜“çŒœåˆ°ç»“æœï¼š

```
The result is 10
```

æ²¡å…³ç³»ã€‚ä½†æ˜¯è®©æˆ‘ä»¬æ›´æ”¹æ•°å­—å¹¶å°è¯•å°† 50 é™¤ä»¥ 6ã€‚ç»“æœå¦‚ä¸‹ï¼š

```
The result is 8
```

**ä½†è¿™ä¸æ­£ç¡®ã€‚** æ­£ç¡®ç­”æ¡ˆåº”è¯¥æ˜¯ 8.33333ã€‚

è¿™æ˜¯å› ä¸º Bash é»˜è®¤æƒ…å†µä¸‹åªå¤„ç†æ•´æ•°ã€‚ä½ éœ€è¦é¢å¤–çš„å‘½ä»¤è¡Œå·¥å…·æ¥å¤„ç†æµ®ç‚¹ï¼ˆå°æ•°ï¼‰ã€‚

æœ€æµè¡Œçš„å·¥å…·æ˜¯ [bc][4]ï¼Œå®ƒæ˜¯ä¸€ç§å¤„ç†æ•°å­¦è¿ç®—çš„éå¸¸å¼ºå¤§çš„è®¡ç®—å™¨è¯­è¨€ã€‚ä¸è¿‡ï¼Œä½ ç°åœ¨ä¸éœ€è¦å…³æ³¨ç»†èŠ‚ã€‚

ä½ å¿…é¡»é€šè¿‡ç®¡é“å°†ç®—æœ¯è¿ç®—â€œå›æ˜¾â€ç»™ `bc`ï¼š

```
echo "$num1/$num2" | bc -l
```

äºæ˜¯ï¼Œå°†ä¹‹å‰çš„è„šæœ¬ä¿®æ”¹ä¸ºï¼š

```
#!/bin/bash

num1=50
num2=6

result=$(echo "$num1/$num2" | bc -l)

echo "The result is $result"
```

ç°åœ¨ä½ å¾—åˆ°ç»“æœï¼š

```
The result is 8.33333333333333333333
```

è¯·æ³¨æ„ `result=$(echo "$num1/$num2" | bc -l)`ï¼Œå®ƒç°åœ¨ä½¿ç”¨ä½ åœ¨ [æœ¬ç³»åˆ—ç¬¬ 2 ç« ][5] ä¸­çœ‹åˆ°çš„å‘½ä»¤æ›¿æ¢ã€‚

`-l` é€‰é¡¹åŠ è½½æ ‡å‡†æ•°å­¦åº“ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`bc` æœ€å¤šä¿ç•™ 20 ä½å°æ•°ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å°†æ¯”ä¾‹æ›´æ”¹ä¸ºè¾ƒå°çš„ä½æ•°ï¼š

```
result=$(echo "scale=3; $num1/$num2" | bc -l)
```

è®©æˆ‘ä»¬çœ‹çœ‹ Bash ä¸­æµ®ç‚¹çš„æ›´å¤šç¤ºä¾‹ã€‚

### åœ¨ Bash è„šæœ¬ä¸­å¤„ç†æµ®ç‚¹

è®©æˆ‘ä»¬ä¿®æ”¹ `sum.sh` è„šæœ¬æ¥å¤„ç†æµ®ç‚¹ã€‚

```
#!/bin/bash

read -p "Enter first number: " num1
read -p "Enter second number: " num2

sum=$( echo "$num1+$num2" | bc -l)
sub=$( echo "scale=2; $num1-$num2" | bc -l)
echo "The summation of $num1 and $num2 is $sum"
echo "The substraction of $num2 from $num1 is $sub"
```

ç°åœ¨å°è¯•è¿è¡Œå®ƒï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥æ­£ç¡®å¤„ç†æµ®ç‚¹ï¼š

![Floating points in bash script][6]

### ğŸ‹ï¸ğŸ¤¸ ç»ƒä¹ æ—¶é—´

æ˜¯æ—¶å€™ä¸€èµ·åšä¸€äº›æ•°å­¦å’Œ Bash ç»ƒä¹ äº†ã€‚

**ç»ƒä¹  1**ï¼šåˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œæ¥å—ä»¥ GB ä¸ºå•ä½çš„è¾“å…¥å¹¶ä»¥ MB å’Œ KB ä¸ºå•ä½è¾“å‡ºå…¶ç­‰æ•ˆå€¼ã€‚

**ç»ƒä¹  2**ï¼šç¼–å†™ä¸€ä¸ªå¸¦æœ‰ä¸¤ä¸ªå‚æ•°å¹¶ä»¥æŒ‡æ•°æ ¼å¼è¾“å‡ºç»“æœçš„è„šæœ¬ã€‚å› æ­¤ï¼Œå¦‚æœè¾“å…¥ 2 å’Œ 3ï¼Œè¾“å‡ºå°†ä¸º 8ï¼Œå³ 2 çš„ 3 æ¬¡æ–¹ã€‚

**æç¤º**ï¼šä½¿ç”¨å¹‚è¿ç®—ç¬¦ `**`ã€‚

**ç»ƒä¹  3**ï¼šç¼–å†™ä¸€ä¸ªå°†æ‘„æ°åº¦è½¬æ¢ä¸ºåæ°åº¦çš„è„šæœ¬ã€‚

**æç¤º**ï¼šä½¿ç”¨å…¬å¼ F = C x (9/5) + 32ã€‚ä½ å¿…é¡»åœ¨æ­¤å¤„ä½¿ç”¨ `bc` å‘½ä»¤ã€‚

ä½ å¯ä»¥åœ¨ç¤¾åŒºä¸­è®¨è®ºç»ƒä¹ åŠå…¶æ–¹æ¡ˆã€‚

åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œä½ å°† [äº†è§£ Bash ä¸­çš„æ•°ç»„][7]ã€‚æ•¬è¯·å…³æ³¨ã€‚

*ï¼ˆé¢˜å›¾ï¼šMJ/8a9dfb90-99a4-4203-bc44-d805d09bc16fï¼‰*

--------------------------------------------------------------------------------

via: https://itsfoss.com/bash-arithmetic-operation/

ä½œè€…ï¼š[Abhishek Prakash][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[geekpi](https://github.com/geekpi)
æ ¡å¯¹ï¼š[wxy](https://github.com/wxy)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/abhishek/
[b]: https://github.com/lkxed/
[1]: https://itsfoss.com/bash-pass-arguments/
[2]: https://itsfoss.com/content/images/2023/07/addition-substraction-bash-script.png
[3]: https://itsfoss.com/content/images/2023/07/multiplication-bash-script.png
[4]: https://www.gnu.org/software/bc/manual/html_mono/bc.html
[5]: https://itsfoss.com/bash-use-variables/
[6]: https://itsfoss.com/content/images/2023/07/floating-point-bash.png
[7]: https://itsfoss.com/bash-arrays/
[0]: https://img.linux.net.cn/data/attachment/album/202307/17/110316dmpou87g8ibhzb8t.jpg