[#]: subject: "Bash Basics Series #5: Using Arrays in Bash"
[#]: via: "https://itsfoss.com/bash-arrays/"
[#]: author: "Abhishek Prakash https://itsfoss.com/author/abhishek/"
[#]: collector: "lkxed"
[#]: translator: "geekpi"
[#]: reviewer: " "
[#]: publisher: " "
[#]: url: " "

Bash åŸºç¡€çŸ¥è¯†ç³»åˆ— #5ï¼šåœ¨ Bash ä¸­ä½¿ç”¨æ•°ç»„
======

åœ¨æœ¬ç³»åˆ—çš„å‰é¢éƒ¨åˆ†ä¸­ï¼Œä½ äº†è§£äº†å˜é‡ã€‚å˜é‡ä¸­å¯ä»¥æœ‰å•ä¸ªå€¼ã€‚

æ•°ç»„å†…éƒ¨å¯ä»¥æœ‰å¤šä¸ªå€¼ã€‚å½“ä½ å¿…é¡»ä¸€æ¬¡å¤„ç†å¤šä¸ªå˜é‡æ—¶ï¼Œè¿™ä¼šä½¿äº‹æƒ…å˜å¾—æ›´å®¹æ˜“ã€‚ä½ ä¸å¿…å°†å„ä¸ªå€¼å­˜å‚¨åœ¨æ–°å˜é‡ä¸­ã€‚

å› æ­¤ï¼Œä¸è¦åƒè¿™æ ·å£°æ˜äº”ä¸ªå˜é‡ï¼š

```
distro1=Ubuntu
distro2=Fedora
distro3=SUSE
distro4=Arch Linux
distro5=Nix
```

ä½ å¯ä»¥åœ¨å•ä¸ªæ•°ç»„ä¸­åˆå§‹åŒ–å®ƒä»¬æ‰€æœ‰ï¼š

```
distros=(Ubuntu Fedora SUSE "Arch Linux" Nix)
```

ä¸å…¶ä»–ä¸€äº›ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œä½ ä¸ä½¿ç”¨é€—å·ä½œä¸ºæ•°ç»„å…ƒç´ åˆ†éš”ç¬¦ã€‚

é‚£æŒºå¥½çš„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è®¿é—®æ•°ç»„å…ƒç´ ã€‚

### åœ¨ bash ä¸­è®¿é—®æ•°ç»„å…ƒç´ 

ä½¿ç”¨ç´¢å¼•ï¼ˆæ•°ç»„ä¸­çš„ä½ç½®ï¼‰è®¿é—®æ•°ç»„å…ƒç´ ã€‚è¦è®¿é—®ç´¢å¼• N å¤„çš„æ•°ç»„å…ƒç´ ï¼Œè¯·ä½¿ç”¨ï¼š

```
${array_name[N]}
```

> ğŸ’¡ ä¸å¤§å¤šæ•°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒBash shell ä¸­çš„æ•°ç»„ä»ç´¢å¼• 0 å¼€å§‹ã€‚è¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º 0ï¼Œç¬¬äºŒä¸ªå…ƒç´ çš„ç´¢å¼•ä¸º 1ï¼Œ`ç¬¬ n ä¸ª`å…ƒç´ çš„ç´¢å¼•ä¸º `n-1`ã€‚

å› æ­¤ï¼Œå¦‚æœä½ æƒ³æ‰“å° SUSEï¼Œä½ å°†ä½¿ç”¨ï¼š

```
echo ${distros[2]}
```

![Example of accessing array elements in bash shell][1]

> ğŸš§ `${` ä¹‹åæˆ– `}` ä¹‹å‰ä¸èƒ½æœ‰ä»»ä½•ç©ºæ ¼ã€‚ä½ ä¸èƒ½åƒ `${ array[n] }` é‚£æ ·ä½¿ç”¨å®ƒã€‚

### ä¸€æ¬¡è®¿é—®æ‰€æœ‰æ•°ç»„å…ƒç´ 

å‡è®¾ä½ è¦æ‰“å°æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ã€‚

ä½ å¯ä»¥ä¸€ä¸€ä½¿ç”¨ echo `${array[n]}` ä½†è¿™ç¡®å®æ²¡æœ‰å¿…è¦ã€‚æœ‰ä¸€ä¸ªæ›´å¥½æ›´ç®€å•çš„æ–¹æ³•ï¼š

```
${array[*]}
```

è¿™å°†ä¸ºä½ æä¾›æ‰€æœ‰æ•°ç»„å…ƒç´ ã€‚

![Accessing all array elements at once in bash shell][2]

### åœ¨ bash ä¸­è·å–æ•°ç»„é•¿åº¦

å¦‚ä½•çŸ¥é“æ•°ç»„ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Ÿ æœ‰ä¸€ä¸ªä¸“é—¨çš„æ–¹æ³•[åœ¨ Bash ä¸­è·å–æ•°ç»„é•¿åº¦][3]ï¼š

```
${#array_name[@]}
```

å°±è¿™ä¹ˆç®€å•ï¼Œå¯¹å§ï¼Ÿ

![Get array length in bash][4]

### åœ¨ bash ä¸­æ·»åŠ æ•°ç»„å…ƒç´ 

å¦‚æœå¿…é¡»å‘æ•°ç»„æ·»åŠ å…¶ä»–å…ƒç´ ï¼Œè¯·ä½¿ç”¨ `+=` è¿ç®—ç¬¦[å°†å…ƒç´ è¿½åŠ åˆ° bash ä¸­çš„ç°æœ‰æ•°ç»„][5]ï¼š

```
array_name+=("new_value")
```

è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

![Append new element to array][6]

> ğŸš§ è¿½åŠ å…ƒç´ æ—¶ä½¿ç”¨ `()` å¾ˆé‡è¦ã€‚

ä½ è¿˜å¯ä»¥ä½¿ç”¨ç´¢å¼•å°†å…ƒç´ è®¾ç½®åœ¨ä»»ä½•ä½ç½®ã€‚

```
array_name[N]=new_value
```

**ä½†è¯·è®°ä½ä½¿ç”¨æ­£ç¡®çš„ç´¢å¼•ç¼–å·ã€‚** å¦‚æœåœ¨ç°æœ‰ç´¢å¼•ä¸Šä½¿ç”¨å®ƒï¼Œæ–°å€¼å°†æ›¿æ¢è¯¥å…ƒç´ ã€‚

å¦‚æœä½ ä½¿ç”¨â€œè¶Šç•Œâ€ç´¢å¼•ï¼Œå®ƒä»ä¼šæ·»åŠ åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ•°ç»„é•¿åº¦ä¸º 6ï¼Œå¹¶ä¸”ä½ å°è¯•åœ¨ç´¢å¼• 9 å¤„è®¾ç½®æ–°å€¼ï¼Œåˆ™è¯¥å€¼ä»å°†ä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°ç¬¬ 7 ä¸ªä½ç½®ï¼ˆç´¢å¼• 6ï¼‰ã€‚

![][7]

### åˆ é™¤æ•°ç»„å…ƒç´ 

ä½ å¯ä»¥ä½¿ç”¨å†…ç½®çš„ `unset` shell é€šè¿‡æä¾›ç´¢å¼•å·æ¥åˆ é™¤æ•°ç»„å…ƒç´ ï¼š

```
unset array_name[N]
```

è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæˆ‘åˆ é™¤äº†æ•°ç»„çš„ç¬¬å››ä¸ªå…ƒç´ ã€‚

![Delete array element in bash][8]

ä½ è¿˜å¯ä»¥é€šè¿‡ unset æ¥åˆ é™¤æ•´ä¸ªæ•°ç»„ï¼š

```
unset array_name
```

> ğŸ’¡ Bash ä¸­æ²¡æœ‰ä¸¥æ ¼çš„æ•°æ®ç±»å‹è§„åˆ™ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒæ—¶åŒ…å«æ•´æ•°å’Œå­—ç¬¦ä¸²çš„æ•°ç»„ã€‚

### ğŸ‹ï¸ ç»ƒä¹ æ—¶é—´

è®©æˆ‘ä»¬ç»ƒä¹ ä¸€ä¸‹ä½ æ‰€å­¦åˆ°çš„æœ‰å…³ bash æ•°ç»„çš„çŸ¥è¯†ã€‚

**ç»ƒä¹  1**ï¼šåˆ›å»ºä¸€ä¸ª bash è„šæœ¬ï¼Œå…¶ä¸­åŒ…å«äº”ä¸ªæœ€ä½³ Linux å‘è¡Œç‰ˆçš„æ•°ç»„ã€‚å…¨éƒ¨æ‰“å°å‡ºæ¥ã€‚

ç°åœ¨ï¼Œç”¨ Hannah Montanna Linux æ›¿æ¢ä¸­é—´çš„é€‰æ‹©ã€‚

**ç»ƒä¹  2**ï¼šåˆ›å»ºä¸€ä¸ª bash è„šæœ¬ï¼Œè¯¥è„šæœ¬æ¥å—ç”¨æˆ·æä¾›çš„ä¸‰ä¸ªæ•°å­—ï¼Œç„¶åä»¥ç›¸åçš„é¡ºåºæ‰“å°å®ƒä»¬ã€‚

é¢„æœŸè¾“å‡ºï¼š

```
Enter three numbers and press enter
12 23 44
Numbers in reverse order are: 44 23 12
```

æˆ‘å¸Œæœ›ä½ å–œæ¬¢é€šè¿‡æœ¬ç³»åˆ—å­¦ä¹  bash shell è„šæœ¬ã€‚åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ if-elseã€‚æ•¬è¯·å…³æ³¨ã€‚

--------------------------------------------------------------------------------

via: https://itsfoss.com/bash-arrays/

ä½œè€…ï¼š[Abhishek Prakash][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[geekpi](https://github.com/geekpi)
æ ¡å¯¹ï¼š[æ ¡å¯¹è€…ID](https://github.com/æ ¡å¯¹è€…ID)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/abhishek/
[b]: https://github.com/lkxed/
[1]: https://itsfoss.com/content/images/2023/07/accessing-array-elements-bash.png
[2]: https://itsfoss.com/content/images/2023/07/accessing-all-array-elements-bash.png
[3]: https://linuxhandbook.com:443/array-length-bash/
[4]: https://itsfoss.com/content/images/2023/07/get-array-length-bash.png
[5]: https://linuxhandbook.com:443/bash-append-array/
[6]: https://itsfoss.com/content/images/2023/07/append-element-to-array.png
[7]: https://itsfoss.com/content/images/2023/07/add-array-element-bash-1.png
[8]: https://itsfoss.com/content/images/2023/07/delete-array-element-bash.png
