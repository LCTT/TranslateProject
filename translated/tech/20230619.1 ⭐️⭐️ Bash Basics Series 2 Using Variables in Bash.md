[#]: subject: "Bash Basics Series #2: Using Variables in Bash"
[#]: via: "https://itsfoss.com/bash-use-variables/"
[#]: author: "Abhishek Prakash https://itsfoss.com/author/abhishek/"
[#]: collector: "lkxed"
[#]: translator: "geekpi"
[#]: reviewer: " "
[#]: publisher: " "
[#]: url: " "

Bash åŸºç¡€çŸ¥è¯†ç³»åˆ— #2ï¼šåœ¨ Bash ä¸­ä½¿ç”¨å˜é‡
======

åœ¨ Bash åŸºç¡€çŸ¥è¯†ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ç®€è¦æåˆ°äº†å˜é‡.ç°åœ¨æ˜¯æ—¶å€™åœ¨æœ¬ç« ä¸­è¯¦ç»†äº†è§£å®ƒä»¬äº†ã€‚

å¦‚æœä½ æ›¾ç»è¿›è¡Œè¿‡ä»»ä½•ç±»å‹çš„ç¼–ç ï¼Œä½ ä¸€å®šç†Ÿæ‚‰æœ¯è¯­â€œå˜é‡â€ã€‚

å¦‚æœæ²¡æœ‰ï¼Œè¯·å°†å˜é‡è§†ä¸ºä¿å­˜ä¿¡æ¯çš„ç›’å­ï¼Œå¹¶ä¸”è¯¥ä¿¡æ¯å¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜ã€‚

è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚

### åœ¨ Bash shell ä¸­ä½¿ç”¨å˜é‡

æ‰“å¼€ç»ˆç«¯å¹¶ä½¿ç”¨éšæœºæ•° 4 åˆå§‹åŒ–å˜é‡ï¼š

```
var=4
```

ç°åœ¨ä½ æœ‰ä¸€ä¸ªåä¸º `var` çš„å˜é‡ï¼Œå®ƒçš„å€¼ä¸º `4`.æƒ³éªŒè¯ä¸€ä¸‹å—ï¼Ÿ **é€šè¿‡åœ¨å˜é‡åå‰æ·»åŠ  $ æ¥è®¿é—®å˜é‡çš„å€¼**.è¿™ç§°ä¸ºå‚æ•°æ‰©å±•ã€‚

```
[abhishek@itsfoss]:~$ echo The value of var is $var
The value of var is 4
```

> ğŸš§ å˜é‡åˆå§‹åŒ–æ—¶ `=` å‰åä¸èƒ½æœ‰ç©ºæ ¼ã€‚

å¦‚æœéœ€è¦ï¼Œä½ å¯ä»¥å°†è¯¥å€¼æ›´æ”¹ä¸ºå…¶ä»–å€¼ï¼š

![Using variables in shell][1]

åœ¨ Bash shell ä¸­ï¼Œå˜é‡å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦æˆ–å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºæ ¼åœ¨å†…çš„å­—ç¬¦ï¼‰ã€‚

![Different variable types in Bash shell][2]

> ğŸ’¡ ä¸ Linux ä¸­çš„å…¶ä»–äº‹ç‰©ä¸€æ ·ï¼Œå˜é‡åç§°ä¹ŸåŒºåˆ†å¤§å°å†™.å®ƒä»¬å¯ä»¥ç”±å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ â€œ\_â€ ç»„æˆã€‚


### åœ¨ Bash è„šæœ¬ä¸­ä½¿ç”¨å˜é‡

ä½ æ˜¯å¦æ³¨æ„åˆ°æˆ‘æ²¡æœ‰è¿è¡Œ shell è„šæœ¬æ¥æ˜¾ç¤ºå˜é‡ç¤ºä¾‹ï¼Ÿ ä½ å¯ä»¥ç›´æ¥åœ¨ shell ä¸­åšå¾ˆå¤šäº‹æƒ….å½“ä½ å…³é—­ç»ˆç«¯æ—¶ï¼Œä½ åˆ›å»ºçš„é‚£äº›å˜é‡å°†ä¸å†å­˜åœ¨ã€‚

ä½†æ˜¯ï¼Œä½ çš„å‘è¡Œç‰ˆé€šå¸¸ä¼šæ·»åŠ å…¨å±€å˜é‡ï¼Œä»¥ä¾¿å¯ä»¥åœ¨æ‰€æœ‰è„šæœ¬å’Œ shell ä¸­è®¿é—®å®ƒä»¬ã€‚

è®©æˆ‘ä»¬å†å†™ä¸€äº›è„šæœ¬.ä½ åº”è¯¥ä¹‹å‰åˆ›å»ºäº†è„šæœ¬ç›®å½•ï¼Œä½†æ— è®ºå“ªç§æƒ…å†µï¼Œæ­¤å‘½ä»¤éƒ½ä¼šå¤„ç†è¯¥ç›®å½•ï¼š

```
mkdir -p bash_scripts && cd bash_scripts
```

åŸºæœ¬ä¸Šï¼Œå¦‚æœ `bash_scripts` ç›®å½•å°šä¸å­˜åœ¨ï¼Œå®ƒå°†åˆ›å»ºå®ƒï¼Œç„¶ååˆ‡æ¢åˆ°è¯¥ç›®å½•ã€‚

è¿™é‡Œè®©æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ–‡æœ¬åˆ›å»ºä¸€ä¸ªåä¸º `knock.sh` çš„æ–°è„šæœ¬ã€‚

```
#!/bin/bash

echo knock, knock
echo "Who's there?"
echo "It's me, $USER"
```

æ›´æ”¹æ–‡ä»¶æƒé™å¹¶è¿è¡Œè„šæœ¬.ä½ åœ¨ä¸Šä¸€ç« ä¸­å·²ç»å­¦åˆ°äº†ã€‚

è¿™æ˜¯å®ƒä¸ºæˆ‘ç”Ÿæˆçš„å†…å®¹ï¼š

![Using global variable in Bahs script][3]

**ä½ æ˜¯å¦æ³¨æ„åˆ°å®ƒå¦‚ä½•è‡ªåŠ¨å°†æˆ‘çš„åå­—æ·»åŠ åˆ°å…¶ä¸­ï¼Ÿ** è¿™å°±æ˜¯åŒ…å«ç”¨æˆ·åçš„å…¨å±€å˜é‡ $USER çš„é­”åŠ›ã€‚

ä½ å¯èƒ½è¿˜æ³¨æ„åˆ°ï¼Œæˆ‘æœ‰æ—¶å°† " ä¸ echo ä¸€èµ·ä½¿ç”¨ï¼Œä½†å…¶ä»–æ—¶å€™åˆ™ä¸ä½¿ç”¨ã€‚è¿™æ˜¯æ•…æ„çš„ã€‚[bash ä¸­çš„å¼•å·][4] æœ‰ç‰¹æ®Šå«ä¹‰ã€‚å®ƒä»¬å¯ç”¨äºå¤„ç†ç©ºæ ¼å’Œå…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚è®©æˆ‘å±•ç¤ºä¸€ä¸ª ä¾‹å­ã€‚

### å¤„ç†å˜é‡ä¸­çš„ç©ºæ ¼

Let's say you have to use a variable called `greetings` that has the value `hello and welcome`.
å‡è®¾ä½ å¿…é¡»ä½¿ç”¨ä¸€ä¸ªåä¸º `greetings` çš„å˜é‡ï¼Œå…¶å€¼ä¸º `hello and welcome`ã€‚

å¦‚æœä½ å°è¯•åƒè¿™æ ·åˆå§‹åŒ–å˜é‡ï¼š

```
greetings=Hello and Welcome
```

ä½ ä¼šå¾—åˆ°è¿™æ ·çš„é”™è¯¯ï¼š

```
Command 'and' not found, but can be installed with:
sudo apt install and
```

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ éœ€è¦ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·ï¼š

```
greetings="Hello and Welcome"
```

ç°åœ¨ä½ å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨è¯¥å˜é‡ã€‚

![Using spaces in variable names in bash][5]

### å°†å‘½ä»¤è¾“å‡ºåˆ†é…ç»™å˜é‡

æ˜¯çš„ï¼ ä½ å¯ä»¥å°†å‘½ä»¤çš„è¾“å‡ºå­˜å‚¨åœ¨å˜é‡ä¸­å¹¶åœ¨è„šæœ¬ä¸­ä½¿ç”¨å®ƒä»¬.è¿™ç§°ä¸ºå‘½ä»¤æ›¿æ¢ã€‚

```
var=$(command)
```

è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```
[abhishek@itsfoss]:~$ today=$(date +%D)
[abhishek@itsfoss]:~$ echo "Today's date is $today"
Today's date is 06/19/23
[abhishek@itsfoss]:~$
```

![Command substitution in bash][6]

æ—§è¯­æ³•ä½¿ç”¨åå¼•å·è€Œä¸æ˜¯ $() è¿›è¡Œå‘½ä»¤æ›¿æ¢.è™½ç„¶å®ƒå¯èƒ½ä»ç„¶æœ‰æ•ˆï¼Œä½†ä½ åº”è¯¥ä½¿ç”¨æ–°çš„æ¨èç¬¦å·ã€‚

> ğŸ’¡ å˜é‡ä¼šæ›´æ”¹å€¼ï¼Œé™¤éä½ å£°æ˜ä¸€ä¸ªâ€œå¸¸é‡â€å˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š`readonly pi=3.14`.åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå˜é‡ `pi` çš„å€¼æ— æ³•æ›´æ”¹ï¼Œå› ä¸ºå®ƒè¢«å£°æ˜ä¸º `readlonly`ã€‚

### ğŸ‹ï¸ ç»ƒä¹ æ—¶é—´

æ˜¯æ—¶å€™ç»ƒä¹ ä½ æ‰€å­¦åˆ°çš„ä¸œè¥¿äº†.è¿™é‡Œæœ‰ä¸€äº›ç»ƒä¹ æ¥æµ‹è¯•ä½ çš„å­¦ä¹ æƒ…å†µã€‚

**ç»ƒä¹  1**ï¼šç¼–å†™ä¸€ä¸ª bash è„šæœ¬ï¼Œä»¥ä»¥ä¸‹æ ¼å¼æ‰“å°ä½ çš„ç”¨æˆ·åã€å½“å‰å·¥ä½œç›®å½•ã€ä¸»ç›®å½•å’Œé»˜è®¤ shellã€‚

```
Hello, there
My name is XYZ
My current location is XYZ
My home directory is XYZ
My default shell is XYZ
```

**æç¤º**ï¼šä½¿ç”¨å…¨å±€å˜é‡ $USERã€$PWDã€$HOME å’Œ $SHELLã€‚

**ç»ƒä¹  2ï¼š** ç¼–å†™ä¸€ä¸ª bash è„šæœ¬ï¼Œå£°æ˜ä¸€ä¸ªåä¸º `price` çš„å˜é‡.ä½¿ç”¨å®ƒæ¥è·å–ä»¥ä¸‹æ ¼å¼çš„è¾“å‡ºï¼š

```
Today's price is $X
Tomorrow's price is $Y
```

å…¶ä¸­ X æ˜¯å˜é‡ `price` çš„åˆå§‹å€¼ï¼Œå¹¶ä¸”æ˜å¤©ä»·æ ¼ç¿»å€ã€‚

**æç¤º**ï¼šä½¿ç”¨ / è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ $ã€‚

ç»ƒä¹ çš„ç­”æ¡ˆå¯ä»¥åœ¨ç¤¾åŒºçš„è¿™ä¸ªä¸“ç”¨å¸–å­ä¸­è®¨è®ºã€‚

åœ¨ Bash åŸºç¡€çŸ¥è¯†ç³»åˆ—çš„ä¸‹ä¸€ç« ä¸­ï¼Œä½ å°†äº†è§£å¦‚ä½•é€šè¿‡ä¼ é€’å‚æ•°å’Œæ¥å—ç”¨æˆ·è¾“å…¥æ¥ä½¿ bash è„šæœ¬å…·æœ‰äº¤äº’æ€§ã€‚

--------------------------------------------------------------------------------

via: https://itsfoss.com/bash-use-variables/

ä½œè€…ï¼š[Abhishek Prakash][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[geekpi](https://github.com/geekpi)
æ ¡å¯¹ï¼š[æ ¡å¯¹è€…ID](https://github.com/æ ¡å¯¹è€…ID)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/abhishek/
[b]: https://github.com/lkxed/
[1]: https://itsfoss.com/content/images/2023/06/Using-variables-in-shell.png
[2]: https://itsfoss.com/content/images/2023/06/bash-variables-types.png
[3]: https://itsfoss.com/content/images/2023/06/using-global-variable-bash-script.png
[4]: https://linuxhandbook.com:443/quotes-in-bash/
[5]: https://itsfoss.com/content/images/2023/06/using-spaces-in-bash-variable.png
[6]: https://itsfoss.com/content/images/2023/06/command-substitue-bash-variable.png
