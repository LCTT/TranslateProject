[#]: subject: "Bash Basics Series #7: If Else Statement"
[#]: via: "https://itsfoss.com/bash-if-else/"
[#]: author: "Abhishek Prakash https://itsfoss.com/author/abhishek/"
[#]: collector: "lkxed"
[#]: translator: "geekpi"
[#]: reviewer: " "
[#]: publisher: " "
[#]: url: " "

Bash åŸºç¡€çŸ¥è¯†ç³»åˆ— #7ï¼šIf Else è¯­å¥
======

Bash æ”¯æŒ if-else è¯­å¥ï¼Œä»¥ä¾¿ä½ å¯ä»¥åœ¨ shell è„šæœ¬ä¸­ä½¿ç”¨é€»è¾‘æ¨ç†ã€‚

é€šç”¨çš„ if-else è¯­æ³•å¦‚ä¸‹ï¼š

```
if [ expression ]; then

  ## å¦‚æœæ¡ä»¶ä¸ºçœŸåˆ™æ‰§è¡Œæ­¤å—ï¼Œå¦åˆ™è½¬åˆ°ä¸‹ä¸€ä¸ª

elif [ expression ]; then

  ## å¦‚æœæ¡ä»¶ä¸ºçœŸåˆ™æ‰§è¡Œæ­¤å—ï¼Œå¦åˆ™è½¬åˆ°ä¸‹ä¸€ä¸ª

else 

  ## å¦‚æœä»¥ä¸Šæ¡ä»¶éƒ½ä¸æˆç«‹ï¼Œåˆ™æ‰§è¡Œæ­¤å—

fi
```

æ­£å¦‚ä½ æ‰€æ³¨æ„åˆ°çš„ï¼š

- `elif` ç”¨äº â€œelse ifâ€ ç±»å‹çš„æ¡ä»¶ã€‚
- if else æ¡ä»¶å§‹ç»ˆä»¥ `fi` ç»“å°¾ã€‚
- ä½¿ç”¨åˆ†å· `;`å’Œ `then`å…³é”®å­—

åœ¨å±•ç¤º if å’Œ else-if çš„ç¤ºä¾‹ä¹‹å‰ï¼Œæˆ‘å…ˆåˆ†äº«ä¸€ä¸‹å¸¸è§çš„æ¯”è¾ƒè¡¨è¾¾å¼ï¼ˆä¹Ÿç§°ä¸ºæµ‹è¯•æ¡ä»¶ï¼‰ã€‚

### æµ‹è¯•æ¡ä»¶

ä»¥ä¸‹æ˜¯å¯ç”¨äºæ•°å­—æ¯”è¾ƒçš„æµ‹è¯•æ¡ä»¶è¿ç®—ç¬¦ï¼š

| æ¡ä»¶ | å½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ä¸º true | 
| :-| :-|
| $a -lt $b | $a < $bï¼ˆ$a æ˜¯ **å°äº** $bï¼‰|
| $a -gt $b | $a > $bï¼ˆ$a æ˜¯ **å¤§äº** $bï¼‰|
| $a -le $b | $a <= $bï¼ˆ$a **å°äºç­‰äº** $b ï¼‰|
| $a -ge $b | $a >= $b ï¼ˆ$a **å¤§äºç­‰äº** $bï¼‰
| $a -eq $b | $a ç­‰äº $b |
| $a -ne $b | $a ä¸ç­‰äº $b |

å¦‚æœä½ è¦æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æµ‹è¯•æ¡ä»¶ï¼š

| æ¡ä»¶ | å½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ä¸º true |
| :- | :- |
| â€œ$aâ€=â€œ$bâ€| $a ä¸ $b  ç›¸åŒ | 
| â€œ$aâ€==â€œ$bâ€| $a ä¸ $b ç›¸åŒ | 
| â€œ$aâ€ï¼=â€œ$bâ€| $a ä¸ $b ä¸åŒ | 
| -zâ€œ$aâ€| $a ä¸ºç©º |

æ–‡ä»¶ç±»å‹æ£€æŸ¥ä¹Ÿæœ‰æ¡ä»¶ï¼š

| æ¡ä»¶ | å½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ä¸º true |
| :- | :- |
| -f $a | $a æ˜¯ä¸€ä¸ªæ–‡ä»¶ |
| -d $a | $a æ˜¯ä¸€ä¸ªç›®å½• |
| -L $a | $a æ˜¯ä¸€ä¸ªé“¾æ¥ |

ç°åœ¨ä½ å·²ç»äº†è§£äº†å„ç§æ¯”è¾ƒè¡¨è¾¾å¼ï¼Œè®©æˆ‘ä»¬åœ¨å„ç§ç¤ºä¾‹ä¸­çœ‹çœ‹å®ƒä»¬çš„å®é™…åº”ç”¨ã€‚

### åœ¨ bash ä¸­ä½¿ç”¨ if è¯­å¥

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè„šæœ¬æ¥å‘Šè¯‰ä½ ç»™å®šçš„æ•°å­—æ˜¯å¦ä¸ºå¶æ•°ã€‚

è¿™æ˜¯æˆ‘çš„è„šæœ¬ï¼Œåä¸º `even.sh`ï¼š

```
#!/bin/bash

read -p "Enter the number: " num

mod=$(($num%2))

if [ $mod -eq 0 ]; then
	echo "Number $num is even"
fi
```

å½“æ¨¡æ•°è¿ç®— (%) æ•´é™¤ç»™å®šæ•°å­—ï¼ˆæœ¬ä¾‹ä¸­ä¸º 2ï¼‰æ—¶ï¼Œå®ƒè¿”å›é›¶ã€‚

> ğŸš§ ç‰¹åˆ«æ³¨æ„ç©ºæ ¼ã€‚å·¦æ‹¬å·å’Œå³æ‹¬å·ä¸æ¡ä»¶ä¹‹é—´å¿…é¡»æœ‰ç©ºæ ¼ã€‚åŒæ ·ï¼Œæ¡ä»¶è¿ç®—ç¬¦ï¼ˆ-leã€== ç­‰ï¼‰å‰åå¿…é¡»æœ‰ç©ºæ ¼ã€‚

è¿™æ˜¯æˆ‘è¿è¡Œè„šæœ¬æ—¶æ˜¾ç¤ºçš„å†…å®¹ï¼š

![Running a script with if statement example in bash][1]

ä½ æ˜¯å¦æ³¨æ„åˆ°ï¼Œå½“æ•°å­—ä¸ºå¶æ•°æ—¶ï¼Œè„šæœ¬ä¼šå‘Šè¯‰ä½ ï¼Œä½†å½“æ•°å­—ä¸ºå¥‡æ•°æ—¶ï¼Œè„šæœ¬ä¸ä¼šæ˜¾ç¤ºä»»ä½•å†…å®¹ï¼Ÿ è®©æˆ‘ä»¬ä½¿ç”¨ else æ¥æ”¹è¿›è¿™ä¸ªè„šæœ¬ã€‚

### ä½¿ç”¨ if else è¯­å¥

ç°åœ¨æˆ‘åœ¨å‰é¢çš„è„šæœ¬ä¸­æ·»åŠ äº†ä¸€æ¡ else è¯­å¥ã€‚è¿™æ ·ï¼Œå½“ä½ å¾—åˆ°ä¸€ä¸ªéé›¶æ¨¡æ•°ï¼ˆå› ä¸ºå¥‡æ•°ä¸èƒ½é™¤ä»¥ 2ï¼‰æ—¶ï¼Œå®ƒå°†è¿›å…¥ else å—ã€‚

```
#!/bin/bash

read -p "Enter the number: " num

mod=$(($num%2))

if [ $mod -eq 0 ]; then
	echo "Number $num is even"
else
	echo "Number $num is odd"
fi
```

è®©æˆ‘ä»¬ç”¨ç›¸åŒçš„æ•°å­—å†æ¬¡è¿è¡Œå®ƒï¼š

![Running a bash script that checks odd even number][2]

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œè¯¥è„šæœ¬æ›´å¥½ï¼Œå› ä¸ºå®ƒè¿˜å‘Šè¯‰ä½ è¯¥æ•°å­—æ˜¯å¦ä¸ºå¥‡æ•°ã€‚

### ä½¿ç”¨ elifï¼ˆelse ifï¼‰è¯­å¥

è¿™æ˜¯ä¸€ä¸ªæ£€æŸ¥ç»™å®šæ•°å­—æ˜¯æ­£æ•°è¿˜æ˜¯è´Ÿæ•°çš„è„šæœ¬ã€‚åœ¨æ•°å­¦ä¸­ï¼Œ0 æ—¢ä¸æ˜¯æ­£æ•°ä¹Ÿä¸æ˜¯è´Ÿæ•°ã€‚è¯¥è„šæœ¬ä¹Ÿæ£€æŸ¥äº†è¿™ä¸€äº‹å®ã€‚

```
#!/bin/bash

read -p "Enter the number: " num

if [ $num -lt 0 ]; then
	echo "Number $num is negative"
elif [ $num -gt 0 ]; then
	echo "Number $num is positive"
else
	echo "Number $num is zero"
fi
```

è®©æˆ‘è¿è¡Œå®ƒæ¥æ¶µç›–è¿™é‡Œçš„æ‰€æœ‰ä¸‰ç§æƒ…å†µï¼š

![Running a script with bash elif statement][3]

### ç”¨é€»è¾‘è¿ç®—ç¬¦ç»„åˆå¤šä¸ªæ¡ä»¶

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚ä½†æ˜¯ä½ æ˜¯å¦çŸ¥é“é€šè¿‡ä½¿ç”¨ AND (&&)ã€OR (||) ç­‰é€»è¾‘è¿ç®—ç¬¦å¯ä»¥åœ¨ä¸€ä¸ªæ¡ä»¶ä¸­åŒ…å«å¤šä¸ªæ¡ä»¶ï¼Ÿ å®ƒä½¿ä½ èƒ½å¤Ÿç¼–å†™å¤æ‚çš„æ¡ä»¶ã€‚

è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªè„šæœ¬æ¥å‘Šè¯‰ä½ ç»™å®šçš„å¹´ä»½æ˜¯å¦æ˜¯é—°å¹´ã€‚

ä½ è¿˜è®°å¾—é—°å¹´çš„æ¡ä»¶å—ï¼Ÿ å®ƒåº”è¯¥è¢« 4 æ•´é™¤ï¼Œä½†å¦‚æœå®ƒèƒ½è¢« 100 æ•´é™¤ï¼Œé‚£ä¹ˆå®ƒå°±ä¸æ˜¯é—°å¹´ã€‚ä½†æ˜¯ï¼Œå¦‚æœèƒ½è¢« 400 æ•´é™¤ï¼Œåˆ™ä¸ºé—°å¹´ã€‚

è¿™æ˜¯æˆ‘çš„è„šæœ¬ã€‚

```
#!/bin/bash

read -p "Enter the year: " year

if [[ ($(($year%4)) -eq 0 && $(($year%100)) != 0) || ($(($year%400)) -eq 0) ]]; then
	echo "Year $year is leap year"
else
	echo "Year $year is normal year"
fi
```

> ğŸ’¡ æ³¨æ„ä¸Šé¢åŒæ‹¬å· [[ ]] çš„ä½¿ç”¨ã€‚å¦‚æœä½ ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦ï¼Œåˆ™è¿™æ˜¯å¼ºåˆ¶æ€§çš„ã€‚

é€šè¿‡ä½¿ç”¨ä¸åŒçš„æ•°æ®è¿è¡Œè„šæœ¬æ¥éªŒè¯è„šæœ¬ï¼š

![Example of running  bash script with logical operators in if statement][4]

### ğŸ‹ï¸ ç»ƒä¹ æ—¶é—´

è®©æˆ‘ä»¬åšä¸€äº›ç»ƒä¹ å§ :)

**ç»ƒä¹  1**ï¼šç¼–å†™ä¸€ä¸ª bash shell è„šæœ¬ï¼Œæ£€æŸ¥ä½œä¸ºå‚æ•°æä¾›ç»™å®ƒçš„å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å¦‚æœæœªæä¾›å‚æ•°ï¼Œå®ƒå°†æ‰“å° â€œempty stringâ€ã€‚

**ç»ƒä¹  2**ï¼šç¼–å†™ä¸€ä¸ª shell è„šæœ¬æ¥æ£€æŸ¥ç»™å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚ä½ å¯ä»¥æä¾›å®Œæ•´çš„æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°æˆ–ç›´æ¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨å®ƒã€‚

**æç¤º**ï¼šæ–‡ä»¶ä½¿ç”¨ -f é€‰é¡¹

**ç»ƒä¹  3**ï¼šé€šè¿‡æ£€æŸ¥ç»™å®šæ–‡ä»¶æ˜¯å¦æ˜¯å¸¸è§„æ–‡ä»¶ã€ç›®å½•æˆ–é“¾æ¥æˆ–è€…æ˜¯å¦ä¸å­˜åœ¨æ¥å¢å¼ºä¹‹å‰çš„è„šæœ¬ã€‚

**æç¤º**ï¼šä½¿ç”¨ -fã€-d å’Œ -L

**ç»ƒä¹  3**ï¼šç¼–å†™ä¸€ä¸ªæ¥å—ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•°çš„è„šæœ¬ã€‚è„šæœ¬åº”æ£€æŸ¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ç¬¬äºŒä¸ªå‚æ•°çš„å­ä¸²ã€‚

**æç¤º**ï¼šè¯·å‚é˜…ä¸Šä¸€ç«  [bash å­—ç¬¦ä¸²][5]

ä½ å¯ä»¥åœ¨ç¤¾åŒºä¸­è®¨è®ºä½ çš„è§£å†³æ–¹æ¡ˆï¼š

[Bash åŸºç¡€ç³»åˆ—ç»ƒä¹  #7ï¼šIf Else è¯­å¥][6]

æˆ‘å¸Œæœ›ä½ å–œæ¬¢ Bash åŸºç¡€çŸ¥è¯†ç³»åˆ—ã€‚åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œä½ å°†äº†è§£å¦‚ä½•åœ¨ Bash ä¸­ä½¿ç”¨å¾ªç¯ã€‚ç»§ç»­ç¼–å†™ bashï¼

--------------------------------------------------------------------------------

via: https://itsfoss.com/bash-if-else/

ä½œè€…ï¼š[Abhishek Prakash][a]
é€‰é¢˜ï¼š[lkxed][b]
è¯‘è€…ï¼š[geekpi](https://github.com/geekpi)
æ ¡å¯¹ï¼š[æ ¡å¯¹è€…ID](https://github.com/æ ¡å¯¹è€…ID)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]: https://itsfoss.com/author/abhishek/
[b]: https://github.com/lkxed/
[1]: https://itsfoss.com/content/images/2023/07/bash-if-example.png
[2]: https://itsfoss.com/content/images/2023/07/bash-if-else-example.png
[3]: https://itsfoss.com/content/images/2023/07/bash-elif.png
[4]: https://itsfoss.com/content/images/2023/07/bash-logical-operators-in-if-else.png
[5]: https://itsfoss.com/bash-strings/
[6]: https://itsfoss.community/t/practice-exercise-in-bash-basics-series-7-if-else-statements/10926?ref=itsfoss.com
