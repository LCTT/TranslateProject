åœ¨ React æ¡ä»¶æ¸²æŸ“ä¸­ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼å’Œ â€œ&&â€ 
============================================================

![](https://cdn-images-1.medium.com/max/2000/1*eASRJrCIVgsy5VbNMAzD9w.jpeg)
Photo byÂ [Brendan Church][1]Â onÂ [Unsplash][2]

React ç»„ä»¶å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å†³å®šæ¸²æŸ“å†…å®¹ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„ if è¯­å¥æˆ– switch è¯­å¥ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä¸€äº›æ›¿ä»£æ–¹æ¡ˆã€‚ä½†è¦æ³¨æ„ï¼Œå¦‚æœä½ ä¸å°å¿ƒï¼Œæœ‰äº›æ–¹æ¡ˆä¼šå¸¦æ¥è‡ªå·±çš„é™·é˜±ã€‚

### ä¸‰å…ƒè¡¨è¾¾å¼ vs if/else

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç»„ä»¶è¢«ä¼ è¿›æ¥ä¸€ä¸ª `name` propã€‚ å¦‚æœè¿™ä¸ªå­—ç¬¦ä¸²éç©ºï¼Œæˆ‘ä»¬ä¼šæ˜¾ç¤ºä¸€ä¸ªé—®å€™è¯­ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ä¼šå‘Šè¯‰ç”¨æˆ·ä»–ä»¬éœ€è¦ç™»å½•ã€‚ 

è¿™æ˜¯ä¸€ä¸ªåªå®ç°äº†å¦‚ä¸ŠåŠŸèƒ½çš„æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶ã€‚

```
const MyComponent = ({ name }) => {
  if (name) {
    return (
      <div className="hello">
        Hello {name}
      </div>
    );
  }
  return (
    <div className="hello">
      Please sign in
    </div>
  );
};
```

è¿™ä¸ªå¾ˆç®€å•ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½ã€‚è¿™æ˜¯ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦ç¼–å†™çš„ç›¸åŒç»„ä»¶ã€‚

```
const MyComponent = ({ name }) => (
  <div className="hello">
    {name ? `Hello ${name}` : 'Please sign in'}
  </div>
);
```

è¯·æ³¨æ„è¿™æ®µä»£ç ä¸ä¸Šé¢çš„ä¾‹å­ç›¸æ¯”æ˜¯å¤šä¹ˆç®€æ´ã€‚

æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ã€‚å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†ç®­å¤´å‡½æ•°çš„å•è¯­å¥å½¢å¼ï¼Œæ‰€ä»¥éšå«äº†returnè¯­å¥ã€‚å¦å¤–ï¼Œä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦å…è®¸æˆ‘ä»¬çœç•¥æ‰é‡å¤çš„Â `<div className="hello">`Â æ ‡è®°ã€‚ğŸ‰

### ä¸‰å…ƒè¡¨è¾¾å¼ vs &&

æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œä¸‰å…ƒè¡¨è¾¾å¼ç”¨äºè¡¨è¾¾ if/else æ¡ä»¶å¼éå¸¸å¥½ã€‚ä½†æ˜¯å¯¹äºç®€å•çš„ if æ¡ä»¶å¼æ€ä¹ˆæ ·å‘¢ï¼Ÿ

è®©æˆ‘ä»¬çœ‹å¦ä¸€ä¸ªä¾‹å­ã€‚å¦‚æœ isProï¼ˆä¸€ä¸ªå¸ƒå°”å€¼ï¼‰ä¸ºçœŸï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºä¸€ä¸ªå¥–æ¯è¡¨æƒ…ç¬¦å·ã€‚æˆ‘ä»¬ä¹Ÿè¦æ¸²æŸ“æ˜Ÿæ˜Ÿçš„æ•°é‡ï¼ˆå¦‚æœä¸æ˜¯0ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ã€‚

```
const MyComponent = ({ name, isPro, stars}) => (
  <div className="hello">
    <div>
      Hello {name}
      {isPro ? 'ğŸ†' : null}
    </div>
    {stars ? (
      <div>
        Stars:{'â­ï¸'.repeat(stars)}
      </div>
    ) : null}
  </div>
);
```

è¯·æ³¨æ„ â€œelseâ€ æ¡ä»¶è¿”å› null ã€‚ è¿™æ˜¯å› ä¸ºä¸‰å…ƒè¡¨è¾¾å¼è¦æœ‰"å¦åˆ™"æ¡ä»¶ã€‚

å¯¹äºç®€å•çš„ â€œifâ€ æ¡ä»¶å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´åˆé€‚çš„ä¸œè¥¿ï¼š&& è¿ç®—ç¬¦ã€‚è¿™æ˜¯ä½¿ç”¨ â€œ&&â€ ç¼–å†™çš„ç›¸åŒä»£ç ã€‚

```
const MyComponent = ({ name, isPro, stars}) => (
  <div className="hello">
    <div>
      Hello {name}
      {isPro && 'ğŸ†'}
    </div>
    {stars && (
      <div>
        Stars:{'â­ï¸'.repeat(stars)}
      </div>
    )}
  </div>
);
```

æ²¡æœ‰å¤ªå¤šåŒºåˆ«ï¼Œä½†æ˜¯æ³¨æ„æˆ‘ä»¬æ¶ˆé™¤äº†æ¯ä¸ªä¸‰å…ƒè¡¨è¾¾å¼æœ€åé¢çš„Â `: null`Â ï¼ˆelse æ¡ä»¶å¼ï¼‰ã€‚ä¸€åˆ‡éƒ½åº”è¯¥åƒä»¥å‰ä¸€æ ·æ¸²æŸ“ã€‚


å˜¿ï¼çº¦ç¿°å¾—åˆ°äº†ä»€ä¹ˆï¼Ÿå½“ä»€ä¹ˆéƒ½ä¸åº”è¯¥æ¸²æŸ“æ—¶ï¼Œåªæœ‰ä¸€ä¸ª0ã€‚è¿™å°±æ˜¯æˆ‘ä¸Šé¢æåˆ°çš„é™·é˜±ã€‚è¿™é‡Œæœ‰è§£é‡Šä¸ºä»€ä¹ˆã€‚

[æ ¹æ® MDN][3]ï¼Œä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦â€œå’Œâ€ï¼ˆä¹Ÿå°±æ˜¯`&&`ï¼‰ï¼š

> `expr1Â &&Â expr2`

> å¦‚æœ `expr1` å¯ä»¥è¢«è½¬æ¢æˆ `false` ï¼Œè¿”å›Â `expr1`ï¼›å¦åˆ™è¿”å›Â `expr2`ã€‚ å¦‚æ­¤ï¼Œå½“ä¸å¸ƒå°”å€¼ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯ trueï¼Œ`&&`Â è¿”å›Â `true`Â ï¼›å¦åˆ™ï¼Œè¿”å›Â `false`ã€‚

å¥½çš„ï¼Œåœ¨ä½ å¼€å§‹æ‹”å¤´å‘ä¹‹å‰ï¼Œè®©æˆ‘ä¸ºä½ è§£é‡Šå®ƒã€‚

åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­é‡Œï¼ŒÂ `expr1`Â æ˜¯å˜é‡Â `stars`ï¼Œå®ƒçš„å€¼æ˜¯Â `0`ï¼Œå› ä¸º0æ˜¯ falsey çš„å€¼,Â `0`Â ä¼šè¢«è¿”å›å’Œæ¸²æŸ“ã€‚çœ‹ï¼Œè¿™è¿˜ä¸ç®—å¤ªåã€‚

æˆ‘ä¼šç®€å•åœ°è¿™ä¹ˆå†™ã€‚

> å¦‚æœ `expr1` æ˜¯ falseyï¼Œè¿”å› `expr1` ï¼Œå¦åˆ™è¿”å› `expr2`

æ‰€ä»¥ï¼Œå½“å¯¹éå¸ƒå°”å€¼ä½¿ç”¨ â€œ&&â€ æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è®© falsy çš„å€¼è¿”å› React æ— æ³•æ¸²æŸ“çš„ä¸œè¥¿ï¼Œæ¯”å¦‚è¯´ï¼Œ`false` è¿™ä¸ªå€¼ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡ ç§æ–¹å¼å®ç°è¿™ä¸€ç›®æ ‡ã€‚è®©æˆ‘ä»¬è¯•è¯•å§ã€‚

```
{!!stars && (
  <div>
    {'â­ï¸'.repeat(stars)}
  </div>
)}
```

æ³¨æ„ `stars` å‰çš„åŒæ„Ÿå¹æ“ä½œç¬¦ï¼ˆÂ `!!`ï¼‰ï¼ˆå‘ƒï¼Œå…¶å®æ²¡æœ‰åŒæ„Ÿå¹æ“ä½œç¬¦ã€‚æˆ‘ä»¬åªæ˜¯ç”¨äº†æ„Ÿå¹æ“ä½œç¬¦ä¸¤æ¬¡ï¼‰ã€‚

ç¬¬ä¸€ä¸ªæ„Ÿå¹æ“ä½œç¬¦ä¼šå¼ºè¿« `stars` çš„å€¼å˜æˆå¸ƒå°”å€¼å¹¶ä¸”è¿›è¡Œä¸€æ¬¡â€œéâ€æ“ä½œã€‚å¦‚æœ `stars` æ˜¯ `0` ï¼Œé‚£ä¹ˆ `!stars` ä¼š æ˜¯ `true`ã€‚

ç„¶åæˆ‘ä»¬æ‰§è¡Œç¬¬äºŒä¸ª`é`æ“ä½œï¼Œæ‰€ä»¥å¦‚æœ `stars` æ˜¯0ï¼Œ`!!stars` ä¼šæ˜¯ `false`ã€‚æ­£å¥½æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚

å¦‚æœä½ ä¸å–œæ¬¢ `!!`ï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥å¼ºåˆ¶è½¬æ¢å‡ºä¸€ä¸ªå¸ƒå°”æ•°æ¯”å¦‚è¿™æ ·ï¼ˆè¿™ç§æ–¹å¼æˆ‘è§‰å¾—æœ‰ç‚¹å†—é•¿ï¼‰ã€‚

```
{Boolean(stars) && (
```

æˆ–è€…åªæ˜¯ç”¨æ¯”è¾ƒç¬¦äº§ç”Ÿä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆæœ‰äº›äººä¼šè¯´è¿™æ ·ç”šè‡³æ›´åŠ è¯­ä¹‰åŒ–ï¼‰ã€‚

```
{stars > 0 && (
```

#### å…³äºå­—ç¬¦ä¸²

ç©ºå­—ç¬¦ä¸²ä¸æ•°å­—æœ‰ä¸€æ ·çš„æ¯›ç—…ã€‚ä½†æ˜¯å› ä¸ºæ¸²æŸ“åçš„ç©ºå­—ç¬¦ä¸²æ˜¯ä¸å¯è§çš„ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯é‚£ç§ä½ å¾ˆå¯èƒ½ä¼šå»å¤„ç†çš„éš¾é¢˜ï¼Œç”šè‡³å¯èƒ½ä¸ä¼šæ³¨æ„åˆ°å®ƒã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ˜¯å®Œç¾ä¸»ä¹‰è€…å¹¶ä¸”ä¸å¸Œæœ›DOMä¸Šæœ‰ç©ºå­—ç¬¦ä¸²ï¼Œä½ åº”é‡‡å–æˆ‘ä»¬ä¸Šé¢å¯¹æ•°å­—é‡‡å–çš„é¢„é˜²æªæ–½ã€‚

### å…¶å®ƒè§£å†³æ–¹æ¡ˆ

ä¸€ç§å¯èƒ½çš„å°†æ¥å¯æ‰©å±•åˆ°å…¶ä»–å˜é‡çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ `shouldRenderStars` å˜é‡ã€‚ç„¶åä½ ç”¨â€œ&&â€å¤„ç†å¸ƒå°”å€¼ã€‚

```
const shouldRenderStars = stars > 0;
```

```
return (
  <div>
    {shouldRenderStars && (
      <div>
        {'â­ï¸'.repeat(stars)}
      </div>
    )}
  </div>
);
```

ä¹‹åï¼Œåœ¨å°†æ¥ï¼Œå¦‚æœä¸šåŠ¡è§„åˆ™è¦æ±‚ä½ è¿˜éœ€è¦å·²ç™»å½•ï¼Œæ‹¥æœ‰ä¸€æ¡ç‹—ä»¥åŠå–æ·¡å•¤é…’ï¼Œä½ å¯ä»¥æ”¹å˜ `shouldRenderStars` çš„å¾—å‡ºæ–¹å¼ï¼Œè€Œè¿”å›çš„å†…å®¹ä¿æŒä¸å˜ã€‚ä½ è¿˜å¯ä»¥æŠŠè¿™ä¸ªé€»è¾‘æ”¾åœ¨å…¶å®ƒå¯æµ‹è¯•çš„åœ°æ–¹ï¼Œå¹¶ä¸”ä¿æŒæ¸²æŸ“æ˜æ™°ã€‚

```
const shouldRenderStars = 
  stars > 0 && loggedIn && pet === 'dog' && beerPref === 'light`;
```

```
return (
  <div>
    {shouldRenderStars && (
      <div>
        {'â­ï¸'.repeat(stars)}
      </div>
    )}
  </div>
);
```

### ç»“è®º

æˆ‘è®¤ä¸ºä½ åº”è¯¥å……åˆ†åˆ©ç”¨è¿™ç§è¯­è¨€ã€‚å¯¹äº JavaScriptï¼Œè¿™æ„å‘³ç€ä¸º `if/else` æ¡ä»¶å¼ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œä»¥åŠä¸º `if` æ¡ä»¶å¼ä½¿ç”¨ `&&` æ“ä½œç¬¦ã€‚

æˆ‘ä»¬å¯ä»¥å›åˆ°æ¯å¤„éƒ½ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦çš„èˆ’é€‚åŒºï¼Œä½†ä½ ç°åœ¨æ¶ˆåŒ–äº†è¿™äº›çŸ¥è¯†å’ŒåŠ›é‡ï¼Œå¯ä»¥ç»§ç»­å‰è¿› && å–å¾—æˆåŠŸäº†ã€‚

--------------------------------------------------------------------------------

ä½œè€…ç®€ä»‹ï¼š

ç¾å›½è¿é€šå·¥ç¨‹åšå®¢çš„æ‰§è¡Œç¼–è¾‘ http://aexp.io ä»¥åŠ @AmericanExpress çš„å·¥ç¨‹æ€»ç›‘ã€‚MyViews !== ThoseOfMyEmployer.

----------------

via: https://medium.freecodecamp.org/conditional-rendering-in-react-using-ternaries-and-logical-and-7807f53b6935

ä½œè€…ï¼š[Donavon West][a]
è¯‘è€…ï¼š[GraveAccent](https://github.com/GraveAccent)
æ ¡å¯¹ï¼š[æ ¡å¯¹è€…ID](https://github.com/æ ¡å¯¹è€…ID)

æœ¬æ–‡ç”± [LCTT](https://github.com/LCTT/TranslateProject) åŸåˆ›ç¼–è¯‘ï¼Œ[Linuxä¸­å›½](https://linux.cn/) è£èª‰æ¨å‡º

[a]:https://medium.freecodecamp.org/@donavon
[1]:https://unsplash.com/photos/pKeF6Tt3c08?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText
[2]:https://unsplash.com/search/photos/road-sign?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText
[3]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators
